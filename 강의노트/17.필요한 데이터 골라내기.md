# 필요한 데이터 골라내기

### (1) 웹 페이지 스타일링 원리

## 데이터 추출의 원리

웹사이트에서 HTML 코드를 받아오는 법을 배웠습니다. 이제 HTML 코드에서 데이터를 추출해 봅시다.

사실 HTML 코드에서 **데이터를 골라내는 작업**은 웹 페이지를 꾸미는 **스타일링 원리**와 밀접한 연관이 있습니다. 특정 태그를 선택한다는 공통점 때문입니다.

그래서 우리는 웹 페이지 **스타일링 원리**를 먼저 배워볼 겁니다.

## CSS로 HTML 꾸미기

웹 페이지를 꾸미는 주인공은 CSS라는 언어입니다.
이전 챕터에서 HTML 코드로만 이루어진, 아주 못생긴 웹사이트를 봤었죠?

- HTML
- CSS

```html
<!DOCTYPE html>
<html>
<head>
    <title>Sample Website</title>
</head>
<body>
<h2>HTML 연습!</h2>

<p>이것은 첫 번째 문단입니다.</p>
<p>이것은 두 번째 문단입니다!</p>

<ul>
    <li>커피</li>
    <li>녹차</li>
    <li>우유</li>
</ul>

<img src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/45/A_small_cup_of_coffee.JPG/550px-A_small_cup_of_coffee.JPG">
</body>
</html>
```

결과 확인

여기에 CSS를 사용하면 HTML 태그에 색, 폰트, 크기, 여백 등을 설정할 수 있습니다. 아마 여러분이 평소 사용하는 모든 웹사이트가 CSS를 사용할 것입니다.

실제 CSS 코드를 살펴봅시다.

```css
li {
  color: blue;
  font-size: 20px;
}
```

CSS 코드는 크게 두 부분으로 이루어져 있는데요.
**'HTML 태그를 선택하는 코드'**와 **'스타일을 지정하는 코드'**입니다.

위의 코드도 **'HTML 태그를 선택하는 코드'**와 **'스타일을 지정하는 코드**'로 나눌 수 있겠죠?

### 1. HTML 태그를 선택하는 코드

위의 CSS 코드에서 'HTML 태그를 선택하는 코드'는 `li` 입니다.

```css
li {
}
```

이후에 자세히 살펴보겠지만, 이 코드는 **"모든 `` 태그를 대상으로 스타일을 적용하라"**는 의미입니다. 이렇게 스타일 적용의 범위를 정하는 코드를 **CSS 선택자(CSS Selector)**라 부릅니다.

여기에는 `.favorite`, `#navbar` 등 다양한 표현이 들어갈 수 있는데요.
CSS 선택자는 웹 스크레이핑에 매우 중요하기 때문에 [이후 레슨](https://business.codeit.kr/assignments/1520)에서 더 자세히 살펴봅시다.

### 2. 스타일을 지정하는 코드

그럼 나머지 코드가 스타일을 지정하는 코드겠죠?

```
color: blue;
font-size: 20px;
```

첫 줄 `color: blue;`은 색상을 파란색(blue)으로 바꾸라는 의미이고, 두 번째 줄 `font-size: 20px;`은 글자 크기를 `20px`로 하라는 의미입니다.

보통은 이름이 직관적이라 의미를 추측하기 쉽습니다. 자세히 알고 싶은 분은 [링크](https://www.w3schools.com/cssref/)를 참고해 보세요.

결국 두 코드를 합쳐보면

```css
li {
  color: blue;
  font-size: 20px;
}
```

**"모든 `li` 태그의 색깔은 파란색으로, 크기는 `20px`로 하라"**는 내용이군요.

실제로 어떻게 적용되는지 봅시다.
CSS 코드가 없는 결과와, CSS 코드가 적용된 결과를 비교해 보세요.

### CSS 코드가 없는 예시

- HTML
- CSS

```html
<!DOCTYPE html>
<html>
<head>
    <title>Sample Website</title>
</head>
<body>
<h2>HTML 연습!</h2>

<p>이것은 첫 번째 문단입니다.</p>
<p>이것은 두 번째 문단입니다!</p>

<ul>
    <li>커피</li>
    <li>녹차</li>
    <li>우유</li>
</ul>

<img src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/45/A_small_cup_of_coffee.JPG/550px-A_small_cup_of_coffee.JPG">
</body>
</html>
```

결과 확인

### CSS 코드가 적용된 예시

- HTML
- CSS

```html
<!DOCTYPE html>
<html>
<head>
    <title>Sample Website</title>
</head>
<body>
<h2>HTML 연습!</h2>

<p>이것은 첫 번째 문단입니다.</p>
<p>이것은 두 번째 문단입니다!</p>

<ul>
    <li>커피</li>
    <li>녹차</li>
    <li>우유</li>
</ul>

<img src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/45/A_small_cup_of_coffee.JPG/550px-A_small_cup_of_coffee.JPG">
</body>
</html>
```



### (2) CSS 선택자

## 첫 번째 CSS 선택자: 태그 이름

하나의 CSS 코드를 살펴봤습니다.

```css
li {
  color: blue;
  font-size: 20px;
}
```

이 코드의 의미는 **"모든 `` 태그의 색깔은 파란색으로, 크기는 `20px`로 하라"**는 내용이었죠.

여기서 하나의 원리를 알 수 있습니다.
**CSS 선택자로 '태그의 이름'을 쓰면, 그 태그 모두에 스타일이 입혀집니다.**

예를 들어 CSS 선택자에 해당하는 `li`를 `p`로 바꾸면,

```css
p {
  color: blue;
  font-size: 20px;
}
```

모든 `` 태그에 스타일이 적용됩니다.
**"모든 `` 태그의 색깔은 파란색으로, 크기는 `20px`로 하라"**는 내용이 되는 거죠.

실행 예시를 봅시다.

### CSS 코드가 없는 예시

- HTML
- CSS

```html
<!DOCTYPE html>
<html>
<head>
    <title>Sample Website</title>
</head>
<body>
<h2>HTML 연습!</h2>

<p>이것은 첫 번째 문단입니다.</p>
<p>이것은 두 번째 문단입니다!</p>

<ul>
    <li>커피</li>
    <li>녹차</li>
    <li>우유</li>
</ul>

<img src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/45/A_small_cup_of_coffee.JPG/550px-A_small_cup_of_coffee.JPG">
</body>
</html>
```

결과 확인

### CSS 코드가 적용된 예시

- HTML
- CSS

```html
<!DOCTYPE html>
<html>
<head>
    <title>Sample Website</title>
</head>
<body>
<h2>HTML 연습!</h2>

<p>이것은 첫 번째 문단입니다.</p>
<p>이것은 두 번째 문단입니다!</p>

<ul>
    <li>커피</li>
    <li>녹차</li>
    <li>우유</li>
</ul>

<img src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/45/A_small_cup_of_coffee.JPG/550px-A_small_cup_of_coffee.JPG">
</body>
</html>
```

결과 확인

CSS 선택자로 태그의 이름을 쓰면, 그 태그 모두에 스타일이 입혀진다는 걸 확인했습니다.

## 두 번째 CSS 선택자: 아이디 (id)

모든 태그가 아닌, 단 하나의 태그에만 스타일을 입히고 싶으면 어떻게 할까요?
**'아이디(id)'**라는 속성을 사용하면 됩니다. HTML 태그의 속성은 이전 챕터에서 살펴봤죠?

아래와 같은 식으로, HTML 태그에 아이디(id)를 지정할 수 있습니다.

```html
<li id="coffee">커피</li>
<li id="green-tea">녹차</li>
<li id="milk">우유</li>
```

아이디를 지정한다고 해서, `` 태그의 모습이 갑자기 바뀌거나 하진 않습니다.
CSS 코드를 적용하기 전까지는 말이죠.

**아이디를 CSS 선택자로 활용하면, 그 아이디를 가진 태그에만 스타일이 입혀집니다.**
아이디를 상징하는 기호는 `#`인데, `#coffee`라고 하면 아이디가 `coffee`인 태그만 선택합니다.

```css
#green-tea {
  color: blue;
  font-size: 20px;
}
```

위의 코드는 **"아이디가 `green-tea`인 태그의 색깔을 파란색으로, 크기를 `20px`로 하라"**는 의미입니다.

실행 결과를 봅시다.

### CSS 코드가 없는 예시

- HTML
- CSS

```html
<!DOCTYPE html>
<html>
<head>
    <title>Sample Website</title>
</head>
<body>
<h2>HTML 연습!</h2>

<p>이것은 첫 번째 문단입니다.</p>
<p>이것은 두 번째 문단입니다!</p>

<ul>
    <li id="coffee">커피</li>
    <li id="green-tea">녹차</li>
    <li id="milk">우유</li>
</ul>

<img src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/45/A_small_cup_of_coffee.JPG/550px-A_small_cup_of_coffee.JPG">
</body>
</html>
```

결과 확인

### CSS 코드가 적용된 예시

- HTML
- CSS

```html
<!DOCTYPE html>
<html>
<head>
    <title>Sample Website</title>
</head>
<body>
<h2>HTML 연습!</h2>

<p>이것은 첫 번째 문단입니다.</p>
<p>이것은 두 번째 문단입니다!</p>

<ul>
    <li id="coffee">커피</li>
    <li id="green-tea">녹차</li>
    <li id="milk">우유</li>
</ul>

<img src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/45/A_small_cup_of_coffee.JPG/550px-A_small_cup_of_coffee.JPG">
</body>
</html>
```

결과 확인

단, 동일한 아이디를 여러 태그가 가질 수 없다는 점 참고하세요!
하나의 아이디는 HTML 코드 전체에 단 한 번만 나와야 합니다.

## 세 번째 CSS 선택자: 클래스(class)

아이디는 딱 하나의 HTML 태그만 선택할 수 있습니다.
그럼 여러 태그에 동시에 스타일을 입히려면 어떻게 하면 될까요?

만약 아래 코드와 같이, 동일한 아이디가 여러 번 사용된다면 **잘못된 코드**입니다.

```html
<li id="favorite">커피</li>
<li>녹차</li>
<li id="favorite">우유</li>
```

이런 상황에서 쓸 수 있는 **'클래스(class)'**라는 속성이 있습니다.
클래스는 여러 HTML 태그에 공통으로 적용할 수 있습니다.

```html
<li class="favorite">커피</li>
<li>녹차</li>
<li class="favorite">우유</li>
```

지금은 아이디보다 클래스가 더 적합하죠.
클래스를 활용해서 스타일링하면, 여러 태그 동시에 스타일을 입힐 수 있습니다.

클래스를 상징하는 기호는 `.`인데, `.favorite`라고 하면 클래스가 `favorite`인 모든 태그를 선택할 수 있습니다.

```css
.favorite {
  color: blue;
  font-size: 20px;
}
```

위의 코드는 **"클래스가 `favorite`인 태그의 색깔을 파란색으로, 크기를 `20px`로 하라"**는 의미입니다.

코드 실행 결과를 봅시다.

### CSS 코드가 없는 예시

- HTML
- CSS

```html
<!DOCTYPE html>
<html>
<head>
    <title>Sample Website</title>
</head>
<body>
<h2>HTML 연습!</h2>

<p>이것은 첫 번째 문단입니다.</p>
<p>이것은 두 번째 문단입니다!</p>

<ul>
    <li class="favorite">커피</li>
    <li>녹차</li>
    <li class="favorite">우유</li>
</ul>

<img src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/45/A_small_cup_of_coffee.JPG/550px-A_small_cup_of_coffee.JPG">
</body>
</html>
```

결과 확인

### CSS 코드가 적용된 예시

- HTML
- CSS

```html
<!DOCTYPE html>
<html>
<head>
    <title>Sample Website</title>
</head>
<body>
<h2>HTML 연습!</h2>

<p>이것은 첫 번째 문단입니다.</p>
<p>이것은 두 번째 문단입니다!</p>

<ul>
    <li class="favorite">커피</li>
    <li>녹차</li>
    <li class="favorite">우유</li>
</ul>

<img src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/45/A_small_cup_of_coffee.JPG/550px-A_small_cup_of_coffee.JPG">
</body>
</html>
```

결과 확인

하나의 태그는 아이디를 한 개만 가질 수 있습니다. 하지만 클래스는 여러 개를 가질 수 있습니다.
클래스 이름 사이에 공백을 추가하면 됩니다.

예를 들어, `` 태그에 `"favorite"`, `"preview"` 두 개의 클래스를 모두 주고 싶다면 아래와 같이 작성하면 됩니다.

```html
<p class="favorite preview">이것은 첫 번째 문단입니다.</p>
```

## 네 번째 CSS 선택자: 속성(attribute)

사실 아이디와 클래스도 속성 중 하나입니다.
하지만 CSS 선택자로 워낙 많이 사용하기 때문에, `#`이나 `.` 처럼 쉽게 사용할 수 있는 문법이 있죠.

**아이디와 클래스 외의 속성도 CSS 선택자로 사용할 수 있습니다.**

예를 들어, `` 태그에서 흔히 쓰는 `alt` 속성을 봅시다.
`alt` 속성은 이미지가 로딩되지 않을 경우를 대비해서, 이 이미지가 어떤 이미지인지 텍스트로 알려주는 역할을 합니다.
아래와 같이 사용할 수 있죠.

```html
<img src='https://i.imgur.com/bY0l0PC.jpg' alt="coffee"/>
<img src='https://i.imgur.com/fvJLWdV.jpg' alt="green-tea"/>
<img src='https://i.imgur.com/rNOIbNt.jpg' alt="milk"/>
```

**속성 이름과 속성 값을 CSS 선택자로 활용할 수 있습니다.**
`[name="value"]`의 형태로 적으면 됩니다.

```css
[alt="green-tea"] {
  width: 300px;
}
```

위의 코드는 **"`alt` 속성의 값이 `"green-tea"`인 태그의 가로 길이를 `300px`로 하라"**는 의미입니다.

실행 결과를 살펴봅시다.

### CSS 코드가 없는 예시

- HTML
- CSS

```html
<!DOCTYPE html>
<html>
<head>
    <title>Sample Website</title>
</head>
<body>
<h2>HTML 연습!</h2>

<p>이것은 첫 번째 문단입니다.</p>
<p>이것은 두 번째 문단입니다!</p>

<ul>
    <li>커피</li>
    <li>녹차</li>
    <li>우유</li>
</ul>

<img src='https://i.imgur.com/bY0l0PC.jpg' alt="coffee"/>
<img src='https://i.imgur.com/fvJLWdV.jpg' alt="green-tea"/>
<img src='https://i.imgur.com/rNOIbNt.jpg' alt="milk"/>

</body>
</html>
```

결과 확인

### CSS 코드가 적용된 예시

- HTML
- CSS

```html
<!DOCTYPE html>
<html>
<head>
    <title>Sample Website</title>
</head>
<body>
<h2>HTML 연습!</h2>

<p>이것은 첫 번째 문단입니다.</p>
<p>이것은 두 번째 문단입니다!</p>

<ul>
    <li>커피</li>
    <li>녹차</li>
    <li>우유</li>
</ul>

<img src='https://i.imgur.com/bY0l0PC.jpg' alt="coffee"/>
<img src='https://i.imgur.com/fvJLWdV.jpg' alt="green-tea"/>
<img src='https://i.imgur.com/rNOIbNt.jpg' alt="milk"/>

</body>
</html>
```

결과 확인

녹차에 대한 이미지만 가로 길이가 줄어든 것을 볼 수 있네요.

## CSS 선택자의 의미

열심히 CSS 선택자를 배워 봤는데요.
우리가 웹 페이지를 직접 만들 것도 아닌데, 이런 내용을 꼭 알아야 할까요?

기본적으로 CSS 선택자는 HTML 태그의 스타일을 지정하기 위해 사용합니다.
하지만 추출할 데이터의 위치를 지정할 때도 활용할 수 있습니다. 웹 페이지의 원리를 역이용 하는거죠.

다음에 배울 파싱에서 CSS 선택자를 본격적으로 사용해 봅시다.



### (3) 파싱(Parsing) 1

## 파싱(Parsing)이란?

'파싱'이란 문자의 구조를 분석해서 원하는 정보를 얻어내는 걸 말합니다.
복잡한 HTML 코드에서 정보를 뽑아내는 것도 파싱의 일종이죠.

아래의 HTML 코드에서 '커피', '녹차', '우유'라는 텍스트 데이터를 추출한다고 해 봅시다.

```html
<!DOCTYPE html>
<html>
<head>
    <title>Sample Website</title>
</head>
<body>
<h2>HTML 연습!</h2>

<p>이것은 첫 번째 문단입니다.</p>
<p>이것은 두 번째 문단입니다!</p>

<ul>
    <li>커피</li>
    <li>녹차</li>
    <li>우유</li>
</ul>

<img src='https://i.imgur.com/bY0l0PC.jpg' alt="coffee"/>
<img src='https://i.imgur.com/fvJLWdV.jpg' alt="green-tea"/>
<img src='https://i.imgur.com/rNOIbNt.jpg' alt="milk"/>

</body>
</html>
```

물론 짧은 HTML 코드에서는 눈으로 확인하고 옮겨적을 수 있겠지만, 우리가 원하는 데이터는 훨씬 클테니 수작업을 할 수 없겠죠.

이럴 때 파싱이 필요합니다.

## Beautiful Soup

파이썬에서는 Beautiful Soup이라는 툴로 HTML을 파싱합니다.

![img](https://i.imgur.com/rGXaSlb.png)

파싱할 HTML 코드를 변수 `html_code`에 넣어줍시다. (파이썬에서 여러 줄의 텍스트를 `"""`와 `"""`사이에 두면, 하나의 문자열로 인식합니다.)

```python
html_code = """<!DOCTYPE html>
<html>
<head>
    <title>Sample Website</title>
</head>
<body>
<h2>HTML 연습!</h2>

<p>이것은 첫 번째 문단입니다.</p>
<p>이것은 두 번째 문단입니다!</p>

<ul>
    <li>커피</li>
    <li>녹차</li>
    <li>우유</li>
</ul>

<img src='https://i.imgur.com/bY0l0PC.jpg' alt="coffee"/>
<img src='https://i.imgur.com/fvJLWdV.jpg' alt="green-tea"/>
<img src='https://i.imgur.com/rNOIbNt.jpg' alt="milk"/>

</body>
</html>"""
```

### 1. BeautifulSoup 타입 만들기

HTML 코드를 파싱하려면, 먼저 HTML 코드를 'BeautifulSoup 타입'으로 바꿔줘야 합니다.
`bs4` 라이브러리의 `BeautifulSoup`을 불러옵니다.

```python
from bs4 import BeautifulSoup
```

불러온 `BeautifulSoup`에 HTML 코드를 넘겨주면, HTML 코드가 'BeautifulSoup 타입'으로 바뀝니다.
HTML을 파싱한다는 의미로 `'html.parser'`을 함께 넘겨주세요.

```python
# BeautifulSoup 타입으로 변환
soup = BeautifulSoup(html_code, 'html.parser')

# type 출력
print(type(soup))
<class 'bs4.BeautifulSoup'>
```

`type`이 `bs4.BeautifulSoup`이라고 나오죠? 'BeautifulSoup 타입'으로 잘 바뀌었습니다.

### 2. 특정 태그 선택하기

BeautifulSoup 타입에는 `.select()` 메소드를 쓸 수 있습니다.
'선택한다'는 의미인데, **괄호 안에 CSS 선택자를 넣으면 특정 HTML 태그만 선택**할 수 있습니다.

예를 들어, 모든 `` 태그를 가져오고 싶으면 CSS 선택자 `'li'`를 넘겨주면 됩니다.

```python
# 모든 <li> 태그 선택하기
li_tags = soup.select('li')

# 결과 출력
print(li_tags)
[<li>커피</li>, <li>녹차</li>, <li>우유</li>]
```

그러면 전체 HTML 코드 중에 `` 태그만 모아서 리스트로 출력됩니다.

리스트니까 하나씩 꺼낼 수 있겠죠?
첫 번째 `` 태그만 꺼내봅시다.

```python
# 모든 <li> 태그 선택하기
li_tags = soup.select('li')

# 첫 번째 요소 출력하기
print(li_tags[0])
<li>커피</li>
```

첫 번째 `` 태그만 잘 출력됩니다.

이렇게 Beautiful Soup을 사용하면 복잡한 HTML 코드에서 우리가 원하는 태그만 골라낼 수 있습니다.

### 3. 태그에서 문자열 추출하기

`.select()`로 가져온 태그는, 사실 그냥 텍스트가 아닙니다.
타입을 확인해 봅시다.

```python
# 모든 <li> 태그 선택하기
li_tags = soup.select('li')

# 첫 번째 요소 type 출력하기
print(type(li_tags[0]))
<class 'bs4.element.Tag'>
```

`type`이 `bs4.element.Tag`라고 나오죠? 그냥 `"커피"`라는 텍스트와는 전혀 다른 결과물입니다. 이걸 BeautifulSoup 태그라고 부릅시다.

이렇게 만들어진 BeautifulSoup 태그에는 여러 기능이 있는데, 그 중 하나가 텍스트 추출입니다. (다른 기능은 조만간 배워봅시다.)
BeautifulSoup 태그 뒤에 `.text`라고 붙이면, 텍스트만 꺼낼 수 있습니다.

```python
# 모든 <li> 태그 선택하기
li_tags = soup.select('li')

# 첫 번째 <li> 태그 출력하기
print(li_tags[0])

# 첫 번째 <li> 태그의 텍스트 출력하기
print(li_tags[0].text)
<li>커피</li>
커피
```

드디어 우리가 원하는 **'순수한 문자열'**을 추출하는데 성공했습니다!

반복문을 사용하면, 모든 문자열을 추출해서 리스트에 담을 수 있겠죠?

```python
# 모든 <li> 태그 선택하기
li_tags = soup.select('li')

# 빈 리스트 만들기
beverage_names = []

# 텍스트 추출해서 리스트에 담기
for li in li_tags:
    beverage_names.append(li.text)

# 결과 출력
print(beverage_names)
['커피', '녹차', '우유']
```

이 과정의 전체 코드는 다음과 같습니다.

```python
from bs4 import BeautifulSoup

html_code = """<!DOCTYPE html>
<html>
<head>
    <title>Sample Website</title>
</head>
<body>
<h2>HTML 연습!</h2>

<p>이것은 첫 번째 문단입니다.</p>
<p>이것은 두 번째 문단입니다!</p>

<ul>
    <li>커피</li>
    <li>녹차</li>
    <li>우유</li>
</ul>

<img src='https://i.imgur.com/bY0l0PC.jpg' alt="coffee"/>
<img src='https://i.imgur.com/fvJLWdV.jpg' alt="green-tea"/>
<img src='https://i.imgur.com/rNOIbNt.jpg' alt="milk"/>

</body>
</html>"""

# BeautifulSoup 타입으로 변환
soup = BeautifulSoup(html_code, 'html.parser')

# 모든 <li> 태그 선택하기
li_tags = soup.select('li')

# 빈 리스트 만들기
beverage_names = []

# 텍스트 추출해서 리스트에 담기
for li in li_tags:
    beverage_names.append(li.text)

# 결과 출력
print(beverage_names)
['커피', '녹차', '우유']
```



### (4) 파싱(Parsing) 2

BeautifulSoup 태그에 `.text`를 붙여서, 텍스트를 추출할 수 있었습니다.
이번에는 태그의 속성 값을 추출해 봅시다.

<img> 태그의 src 속성에는 일반적으로 이미지 주소가 저장되어 있습니다.이미지 주소를 받아와 볼건데요.<img> 태그를 먼저 가져와야겠죠?

```python
from bs4 import BeautifulSoup

html_code = """<!DOCTYPE html>
<html>
<head>
    <title>Sample Website</title>
</head>
<body>
<h2>HTML 연습!</h2>

<p>이것은 첫 번째 문단입니다.</p>
<p>이것은 두 번째 문단입니다!</p>

<ul>
    <li>커피</li>
    <li>녹차</li>
    <li>우유</li>
</ul>

<img src='https://i.imgur.com/bY0l0PC.jpg' alt="coffee"/>
<img src='https://i.imgur.com/fvJLWdV.jpg' alt="green-tea"/>
<img src='https://i.imgur.com/rNOIbNt.jpg' alt="milk"/>

</body>
</html>"""

# BeautifulSoup 타입으로 변환
soup = BeautifulSoup(html_code, 'html.parser')

# 모든 <img> 태그 선택하기
img_tags = soup.select('img')

# 결과 출력
print(img_tags)
```

```
[<img alt="coffee" src="https://i.imgur.com/bY0l0PC.jpg"/>, <img alt="green-tea" src="https://i.imgur.com/fvJLWdV.jpg"/>, <img alt="milk" src="https://i.imgur.com/rNOIbNt.jpg"/>]
```

모든 `` 태그를 리스트로 가져왔네요.
첫 번째 `` 태그만 꺼내 봅시다.

```python
# 모든 <img> 태그 선택하기
img_tags = soup.select('img')

# 첫 번째 요소 출력하기
print(img_tags[0])
```

```
<img alt="coffee" src="https://i.imgur.com/bY0l0PC.jpg"/>
```

태그에 `.text`를 붙이면 텍스트가 추출된 것처럼, 태그에 `["속성 이름"]`을 붙여주면 해당 속성의 값을 가져올 수 있습니다.
이미지 주소는 `src`라는 속성에 저장되어 있으니, `["src"]`라고 붙이면 되겠네요.

```python
# 모든 <img> 태그 선택하기
img_tags = soup.select('img')

# 첫 번째 요소의 "src" 속성 값 가져오기
print(img_tags[0]["src"])
```

```
https://i.imgur.com/bY0l0PC.jpg
```

이미지 주소만 추출되었습니다.

`for` 반복문을 활용하면, 모든 이미지 주소를 한번에 가져올 수 있겠죠?

```python
# 모든 <img> 태그 선택하기
img_tags = soup.select('img')

# 빈 리스트 만들기
img_srcs = []

# 이미지 주소 추출해서 리스트에 담기
for img in img_tags:
    img_srcs.append(img["src"])

# 결과 출력
print(img_srcs)
```

```
['https://i.imgur.com/bY0l0PC.jpg', 'https://i.imgur.com/fvJLWdV.jpg', 'https://i.imgur.com/rNOIbNt.jpg']
```

전체 코드는 다음과 같습니다. 직접 코드를 작성하고 실행해 보세요!

```python
from bs4 import BeautifulSoup

html_code = """<!DOCTYPE html>
<html>
<head>
    <title>Sample Website</title>
</head>
<body>
<h2>HTML 연습!</h2>

<p>이것은 첫 번째 문단입니다.</p>
<p>이것은 두 번째 문단입니다!</p>

<ul>
    <li>커피</li>
    <li>녹차</li>
    <li>우유</li>
</ul>

<img src='https://i.imgur.com/bY0l0PC.jpg' alt="coffee"/>
<img src='https://i.imgur.com/fvJLWdV.jpg' alt="green-tea"/>
<img src='https://i.imgur.com/rNOIbNt.jpg' alt="milk"/>

</body>
</html>"""

# BeautifulSoup 타입으로 변환
soup = BeautifulSoup(html_code, 'html.parser')

# 모든 <img> 태그 선택하기
img_tags = soup.select('img')

# 빈 리스트 만들기
img_srcs = []

# 이미지 주소 추출해서 리스트에 담기
for img in img_tags:
    img_srcs.append(img["src"])

# 결과 출력
print(img_srcs)
```

```
['https://i.imgur.com/bY0l0PC.jpg', 'https://i.imgur.com/fvJLWdV.jpg', 'https://i.imgur.com/rNOIbNt.jpg']
```



### (5) CSS 선택자 더 알아보기

실제 웹사이트의 복잡한 HTML 코드를 파싱하려면, CSS 선택자에 대해 좀 더 자세히 이해해야 합니다.

앞서 네 가지의 CSS 선택자를 알아봤는데요.
여러 CSS 선택자를 조합해서 사용할 수도 있습니다.

## OR 연산

쉼표 (`,`)는 OR 연산을 의미합니다.
두 CSS 선택자 중 하나라도 해당되면 선택합니다.

아래와 같은 HTML 코드가 있다고 해 봅시다.

```html
<p class="one">paragraph 1</p>
<p class="two">paragraph 2</p>
<p class="three">paragraph 3</p>
<p class="four">paragraph 4</p>
<p class="five">paragraph 5</p>
```

여기에서 class 이름이 `"two"`이거나, class 이름이 `"four"`인 태그를 선택하려면 `.two, .four`라고 쓰면 됩니다.

```css
.two, .four {
  color: red;
}
```

이 CSS 코드는 **class 이름이 `"two"`이거나 `"four"`인 태그의 색상을 빨간색으로 지정하라**는 의미입니다.

실행 결과로 살펴봅시다.

### CSS 코드가 없는 예시

- HTML
- CSS

```html
<p class="one">paragraph 1</p>
<p class="two">paragraph 2</p>
<p class="three">paragraph 3</p>
<p class="four">paragraph 4</p>
<p class="five">paragraph 5</p>
```

결과 확인

### CSS 코드가 적용된 예시

- HTML
- CSS

```html
<p class="one">paragraph 1</p>
<p class="two">paragraph 2</p>
<p class="three">paragraph 3</p>
<p class="four">paragraph 4</p>
<p class="five">paragraph 5</p>
```

결과 확인

## AND 연산

OR 연산이 있으니 AND 연산도 있겠죠?
두 CSS 선택자를 붙여쓰면, 두 조건에 모두 해당되는 요소만 선택합니다.

HTML 코드를 봅시다.

```html
<p class="favorite">paragraph 1</p>
<p class="favorite">paragraph 2</p>
<p class="favorite private">paragraph 3</p>
<p class="private">paragraph 4</p>
<p class="private">paragraph 5</p>
```

여기에서 `"favorite"` 클래스와 `"private"` 클래스를 모두 가진 태그를 선택하려면, `.favorite.private`라고 붙여서 작성하면 됩니다.

```css
.favorite.private {
  color: red;
}
```

이 CSS 코드는 **`"favorite"` 클래스와 `"private"` 클래스를 모두 가진 태그의 색상을 빨간색으로 지정하라**는 의미입니다.

실행 결과를 살펴봅시다.

### CSS 코드가 없는 예시

- HTML
- CSS

```html
<p class="favorite">paragraph 1</p>
<p class="favorite">paragraph 2</p>
<p class="favorite private">paragraph 3</p>
<p class="private">paragraph 4</p>
<p class="private">paragraph 5</p>
```

결과 확인

### CSS 코드가 적용된 예시

- HTML
- CSS

```html
<p class="favorite">paragraph 1</p>
<p class="favorite">paragraph 2</p>
<p class="favorite private">paragraph 3</p>
<p class="private">paragraph 4</p>
<p class="private">paragraph 5</p>
```

결과 확인

## 중첩된 요소

HTML 태그 안에 또 다른 HTML 태그가 있을 수 있습니다. 이런 경우 태그가 중첩되어 있다고 부르는데요.

일반적인 웹 페이지의 HTML 태그는 많이 중첩되어 있기 때문에, 중첩에 대한 조건을 추가하는 경우가 많습니다.

HTML 코드를 봅시다.

```html
<i>디저트</i>
<p>
  <i>다쿠아즈</i>
  <i>마카롱</i>
  <i>케이크</i>
</p>
```

`` 태그는 텍스트를 기울이는 이탤릭 효과를 의미합니다.

HTML 코드에 여러 개의 `` 태그가 있네요.
모든 `` 태그가 아닌, `` 태그 안에 중첩된 ``태그만 가져오고 싶습니다.
다시 말해 `"디저트"`는 제외하고, `"다쿠아즈"`, `"마카롱"`, `"케이크"`만 가져오려는 거죠.

이런 경우, 띄어쓰기로 중첩을 표현할 수 있습니다.

CSS 선택자를 `p i`라고 작성하면, ``태그 안에 중첩된 ``태그를 의미합니다.

```css
p i {
  color: red;
}
```

이 CSS 코드는 ``태그 안에 있는 ``태그만 빨간색으로 지정하라는 의미입니다.

실행 결과를 살펴봅시다.

### CSS 코드가 없는 예시

- HTML
- CSS

```html
<i>디저트</i>
<p>
  <i>다쿠아즈</i>
  <i>마카롱</i>
  <i>케이크</i>
</p>
```

결과 확인

### CSS 코드가 적용된 예시

- HTML
- CSS

```html
<i>디저트</i>
<p>
  <i>다쿠아즈</i>
  <i>마카롱</i>
  <i>케이크</i>
</p>
```

결과 확인

## 더 배우고 싶다면?

HTML/CSS에 대해서 제대로 배우고 싶다면, 코드잇의 [웹 퍼블리싱 수업](https://codeit.kr/courses/4)을 들어보세요!





### (6) CSS 선택자 정리 노트

## CSS 선택자 정리하기

### 1. 태그 이름

특정 태그 전체를 선택하려면 태그 이름을 사용합니다.

| CSS 선택자 | 의미           |
| ---------- | -------------- |
| `li`       | 모든 `li` 태그 |
| `p`        | 모든 `p` 태그  |

### 2. 아이디

특정 아이디의 태그를 선택하려면, 아이디 앞에 `#`을 붙입니다.

| CSS 선택자  | 의미                       |
| ----------- | -------------------------- |
| `#coffee`   | 아이디가 `coffee`인 태그   |
| `#tea-leaf` | 아이디가 `tea-leaf`인 태그 |

### 3. 클래스

특정 클래스의 태그를 선택하려면, 클래스 앞에 `.`을 붙입니다.

| CSS 선택자  | 의미                       |
| ----------- | -------------------------- |
| `.favorite` | 클래스가 `favorite`인 태그 |
| `.reverse`  | 클래스가 `reverse`인 태그  |

### 4. 속성

속성의 이름과 값으로 태그를 선택하려면, `[name="value"]` 형식으로 적습니다.

| CSS 선택자                        | 의미                                                 |
| --------------------------------- | ---------------------------------------------------- |
| `[alt="green-tea"]`               | `alt` 속성의 값이 `"green-tea"`인 태그               |
| `[href="https://www.codeit.kr/"]` | `href` 속성의 값이 `"https://www.codeit.kr/"`인 태그 |

## CSS 선택자 조합해서 사용하기

### 1. OR 연산

쉼표 (`,`)를 활용하면 OR 연산이 됩니다. 두 CSS 선택자 중 하나라도 해당되면 선택합니다.

| CSS 선택자      | 의미                                          |
| --------------- | --------------------------------------------- |
| `#login, .left` | 아이디가 `login`이거나 클래스가 `left`인 태그 |
| `p, i`          | 모든 `p` 태그와 모든 `i`태그                  |

### 2. AND 연산

두 CSS 선택자를 붙여쓰면 AND 연산이 됩니다. 두 CSS 선택자에 모두 해당되는 요소만 선택합니다.

| CSS 선택자          | 의미                                                  |
| ------------------- | ----------------------------------------------------- |
| `.favorite.private` | `favorite` 클래스와 `private` 클래스를 모두 가진 태그 |
| `p.favorite`        | `favorite` 클래스를 가진 `p` 태그                     |

### 3. 중첩된 요소

중첩된 태그를 선택하려면, 두 CSS 선택자를 띄어쓰면 됩니다.
첫 번째 CSS 선택자로 선택된 태그 내부에서, 두 번째 CSS 선택자를 찾습니다.

| CSS 선택자           | 의미                                                         |
| -------------------- | ------------------------------------------------------------ |
| `.favorite .private` | `favorite` 클래스를 가진 태그에 중첩된, `private` 클래스를 가진 태그 |
| `p .favorite`        | `p` 태그 아래에 중첩된, `favorite` 클래스를 가진 태그        |

## 더 알아보기

자주 쓰이는 CSS 선택자를 살펴 보았습니다.
이 정도를 이해하면 웹에서 데이터를 얻는 데 큰 어려움은 없을 것입니다.

CSS 선택자를 더 많이 알고 싶으신 분들은 [W3Schools 링크](https://www.w3schools.com/cssref/css_selectors.asp)와 [CSS Selectors Cheatsheet](https://gist.github.com/magicznyleszek/809a69dd05e1d5f12d01) 등을 참고해 보세요!



### (7) 크롬 개발자 도구로 선택자 알아내기

HTML 코드에 [웹사이트](https://workey.codeit.kr/music/index)의 내용물이 모두 드러납니다.
하지만 코드만으론 구조를 파악하기 어렵죠? 조금 더 쉽게 HTML 태그의 구조를 알아낼 수는 없을까요?

크롬 브라우저의 개발자 도구를 사용하면 됩니다! 사실 크롬 말고 다른 브라우저로도 할 수 있지만, 저희는 크롬으로 하겠습니다.

알고 싶은 요소를 오른쪽 클릭하세요. 그러면 영어로 `Inspect` 혹은 한국말로 `검사`라고 나오는데요.

![img](https://i.imgur.com/tkaJCFw.jpg)

그러면 현재 페이지의 HTML 코드를 볼 수 있습니다.

![img](https://i.imgur.com/sEMBAXu.jpg)

그리고 우리가 선택한 요소의 HTML 태그를 보여줍니다. 이걸 기반으로 주변 요소들을 살펴볼 수도 있습니다.

HTML 태그를 살펴보면, class나 id 정보도 나옵니다.
이 구조를 참고하면, CSS 선택자를 작성하기 더 쉽겠죠?

또 하나 팁을 드리자면, 우리가 원하는 HTML 요소의 CSS 선택자를 자동으로 가져올 수도 있습니다.

개발자 도구에서 특정 HTML 요소를 오른쪽 클릭하고 Copy 메뉴의 Copy Selector를 클릭하면, CSS 선택자가 클립보드에 복사됩니다.
텍스트 에디터에 붙여넣기 해 보세요!

개발자 도구를 잘 활용하면 파싱이 좀 더 쉬워집니다.



### (8) 파싱(Parsing) 3

이번에는 실제 웹사이트의 response를 받아서 파싱해 봅시다. [음악 사이트](https://workey.codeit.kr/music/index)의 인기 아티스트를 추출해 볼게요.

## HTML 코드 받아오기

웹사이트의 HTML 코드를 받아옵시다.

```python
import requests

# HTML 코드 받아오기
response = requests.get("https://workey.codeit.kr/music/index")

# 결과 출력
print(response.text)
<!DOCTYPE html>
<html lang="ko">
<head>
  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  <meta charset="UTF-8">
  <title>Codeit Music</title>
  <style>
    body {
      margin: 0;
    }

    a {
      text-decoration: none;
      color: inherit;
    }

    img {
      vertical-align: middle;
    }

    ul {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    * {
      box-sizing: border-box;
    }

    .header {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 60px;
      background-color: #ffffff;
      overflow: hidden;
      z-index: 1;
    }

    .nav-warpper {
      max-width: 1163px;
      margin: 0 auto;
      height: 100%;
      line-height: 60px;
      padding: 0 20px
    }

    .header__logo .logo-img {
      width: 34px;
      margin-right: 25px;
    }

    .header__nav {
      display: inline-block;
      vertical-align: middle;
    }

    .header__nav .menu {
      float: left;
      font-size: 16px;
      color: #4a4a4a;
      margin-right: 21px;
    }

    .header__search {
      display: inline-block;
      vertical-align: middle;
      margin: 0 53px;
      width: 397px;
      height: 36px;
      line-height: 36px;
      border-radius: 22px;
      border: 1px solid #4a90e2;
      padding: 0 13px;
    }

    .header__search .icon {
      width: 24px;
      margin-right: 4px;
    }

    .header__search .input {
      border: none;
      outline: none;
      font-size: 14px;
      background: transparent;
      width: calc(100% - 35px);
    }

    .header__user {
      display: inline-block;
      float: right;
    }

    .header__user .name {
      font-size: 14px;
      color: #4a4a4a;
      margin-right: 14px;
    }

    .header__user .profile {
      width: 30px;
    }

    .main {
      min-height: calc(100vh - 60px);
      padding-top: 60px;
      background-color: #fafafa;
      position: relative;
      overflow: hidden;
    }

    .main section {
      float: left;
    }

    .contents-warpper {
      max-width: 991px;
      margin: 0 auto;
      padding: 34px 0;
    }

    .main__sidebar {
      width: 231px;
      margin-right: 23px;
    }

    .main__sidebar article {
      width: 100%;
      border-radius: 7px;
      background-color: #ffffff;
      padding: 17px 13px 5px;
      margin-bottom: 32px;
    }

    .main__sidebar .popular__title,
    .main__sidebar .rank__title {
      margin: 0 0 24px;
      font-size: 14px;
      font-weight: bold;
      color: #4a4a4a;
    }

    .main__sidebar .list {
      font-size: 14px;
      color: #4a4a4a;
      margin-bottom: 12px;
    }

    .main__sidebar .list__index {
      display: inline-block;
      width: 18px;
      height: 18px;
      line-height: 1.8;
      text-align: center;
      font-size: 11px;
      font-weight: bold;
      border-radius: 6px;
      color: #ffffff;
      background-color: #dbdbdb;
    }

    .main__sidebar .list__index.blue {
      background-color: #2391e9;
    }

    .main__sidebar .popular__order .list__index {
      margin-right: 18px;
    }

    .main__sidebar .rank__order .list__index {
      margin-right: 10px;
    }

    .main__sidebar .list__rating {
      font-size: 14px;
      font-weight: normal;
      color: #9b9b9b;
      text-align: center;
      width: 25px;
      display: inline-block;
    }

    .main__sidebar .und {
      width: 8px;
      vertical-align: unset;
      margin-right: 2px;
    }

    .main__sidebar .dash {
      display: inline-block;
      width: 6px;
      height: 1px;
      background-color: #979797;
      vertical-align: super;
      margin-right: 3px;
      margin-left: 1px;
    }

    .main__listWrapper {
      width: 737px;
    }

    .main__listWrapper .playlist {
      width: 100%;
      height: 240px;
      border-radius: 7px;
      box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.15);
      position: relative;
      overflow: hidden;
      background-color: #ffffff;
      margin-bottom: 34px;
    }

    .main__listWrapper .playlist__theme {
      width: 68px;
      border-bottom: 1px solid #ffffff;
      position: absolute;
      top: 23px;
      left: 26px;
      margin: 0;
      color: #ffffff;
      text-align: center;
      padding-bottom: 8px;
      font-size: 14px;
      font-weight: bold;
    }

    .main__listWrapper .playlist__img {
      width: 397px;
      float: left;
    }

    .main__listWrapper .playlist__meta {
      padding: 22px 19px;
      float: left;
      width: 340px;
    }

    .main__listWrapper .playlist__meta .owner {
      width: 60px;
      float: left;
      margin-right: 15px;
    }

    .main__listWrapper .playlist__meta .title {
      margin: 0;
      font-size: 20px;
      font-weight: normal;
      color: #4a4a4a;
      word-break: keep-all;
      height: 48px;
    }

    .main__listWrapper .playlist__meta .tags {
      margin: 45px 0 16px;
      padding-bottom: 15px;
      border-bottom: 1px solid #9b9b9b;
      color: #9b9b9b;
      font-size: 14px;
      line-height: 1.7;
    }

    .main__listWrapper .playlist__meta .data img {
      width: 20px;
    }

    .main__listWrapper .playlist__meta .data span {
      vertical-align: middle;
      margin-left: 6px;
      margin-right: 16px;
    }

    @media (max-width: 991px) {
      body * {
        display: none;
      }

      body {
        width: 100vw;
        height: 100vh;
        background-color: rgba(0, 0, 0, 0.8);
      }

      body::after {
        display: block;
        content: '지원하지 않는 화면 크기 입니다. 브라우저 크기를 넓혀주세요.';
        position: absolute;
        top: 50%;
        left: 50%;
        width: 230px;
        word-break: keep-all;
        text-align: center;
        line-height: 1.7;
        font-size: 18px;
        color: #ffffff;
        transform: translate(-50%, -50%);
      }
    }
  </style>
</head>
<body>
<header class="header">
  <nav class="nav-warpper">
    <a class="header__logo" href="#"><img class="logo-img" src="/images/music/logo.png" alt="logo"/></a>
    <ul class="header__nav">
      <li class="menu"><a href="#">인기차트</a></li>
      <li class="menu"><a href="#">추천음악</a></li>
      <li class="menu"><a href="#">뮤직비디오</a></li>
    </ul>
    <div class="header__search">
      <img class="icon" src="/images/music/search.png"/>
      <input class="input" type="text" placeholder="오늘은 무슨 음악을 들을까?"/>
    </div>
    <div class="header__user">
      <span class="name">강영훈</span>
      <img class="profile" src="/images/music/user.png" alt="user"/>
    </div>
  </nav>
</header>
<div class="main">
  <div class="contents-warpper">
    <section class="main__sidebar">
      <article class="popular">
        <h3 class="popular__title">인기 아티스트</h3>
        <ul class="popular__order">
          <li class="list">
            <span class="list__index blue">1</span> 아이유 (IU)
          </li>
          <li class="list">
            <span class="list__index blue">2</span> 방탄소년단
          </li>
          <li class="list">
            <span class="list__index blue">3</span> Red Velvet (레드벨벳)
          </li>
          <li class="list">
            <span class="list__index">4</span> IKON
          </li>
          <li class="list">
            <span class="list__index">5</span> 멜로망스
          </li>
          <li class="list">
            <span class="list__index">6</span> 다비치
          </li>
          <li class="list">
            <span class="list__index">7</span> 윤딴딴
          </li>
          <li class="list">
            <span class="list__index">8</span> 수지 (SUZY)
          </li>
          <li class="list">
            <span class="list__index">9</span> 김동률
          </li>
          <li class="list">
            <span class="list__index">10</span> 폴킴
          </li>
        </ul>
      </article>
      <article class="rank">
        <h3 class="rank__title">검색어 순위</h3>
        <ul class="rank__order">
          <li class="list">
            <span class="list__index blue">1</span> <b class="list__rating"><i class="dash"></i>0</b> Queen
          </li>
          <li class="list">
            <span class="list__index blue">2</span> <b class="list__rating"><i class="dash"></i>0</b> 방탄소년단
          </li>
          <li class="list">
            <span class="list__index blue">3</span> <b class="list__rating"><i class="dash"></i>0</b> 아이유
          </li>
          <li class="list">
            <span class="list__index">4</span> <b class="list__rating"><img class="und" src="/images/music/up.png"
                                                                            alt="up"/>7</b> 거미
          </li>
          <li class="list">
            <span class="list__index">5</span> <b class="list__rating"><img class="und" src="/images/music/down.png"
                                                                            alt="down"/>1</b> 폴킴
          </li>
          <li class="list">
            <span class="list__index">6</span> <b class="list__rating"><img class="und" src="/images/music/up.png"
                                                                            alt="up"/>1</b> 김범수
          </li>
          <li class="list">
            <span class="list__index">7</span> <b class="list__rating"><img class="und" src="/images/music/up.png"
                                                                            alt="up"/>6</b> 헤이즈
          </li>
          <li class="list">
            <span class="list__index">8</span> <b class="list__rating"><img class="und" src="/images/music/down.png"
                                                                            alt="down"/>2</b> 트와이스
          </li>
          <li class="list">
            <span class="list__index">9</span> <b class="list__rating"><img class="und" src="/images/music/up.png"
                                                                            alt="up"/>7</b> 박효신
          </li>
          <li class="list">
            <span class="list__index">10</span> <b class="list__rating"><i class="dash"></i>0</b> 신용재 (포맨)
          </li>
        </ul>
      </article>
    </section>
    <section id="list-container" class="main__listWrapper">
      <article
        class="playlist"
        v-for="(item, index) in playlist"
        v-bind:key="index"
      >
        <h5 class="playlist__theme">{{item.category}}</h5>
        <img class="playlist__img" :src="item.imageUrl" alt="background"/>
        <div class="playlist__meta">
          <img class="owner" :src="item.authorProfileImageUrl" alt="owner"/>
          <h3 class="title">{{item.title}}</h3>
          <p class="tags">
            <a class="tag" href="#"
               v-for="(tag, index) in item.tags"
               v-bind:key="index"
            >#{{tag}} </a>
          </p>
          <div class="data">
            <img class="data__like-img" src="/images/music/like.png" alt="like"/>
            <span class="data__like-count">{{item.likeCount}}</span>
            <img class="data__music-img" src="/images/music/music.png" alt="music"/>
            <span class="data__music-count">{{item.trackCount}}</span>
          </div>
        </div>
      </article>
    </section>
  </div>
</div>
<script src="/js/music.js"></script>
</body>
</html>
```

## BeautifulSoup 타입으로 바꾸기

파싱을 위해서 HTML 코드를 BeautifulSoup 타입으로 바꿔야겠죠?

```python
import requests
from bs4 import BeautifulSoup

# HTML 코드 받아오기
response = requests.get("https://workey.codeit.kr/music/index")

# BeautifulSoup 타입으로 변환
soup = BeautifulSoup(response.text, 'html.parser')

# 결과 출력
print(soup)
<!DOCTYPE html>

<html lang="ko">
<head>
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<meta charset="utf-8"/>
<title>Codeit Music</title>
<style>
    body {
      margin: 0;
    }

    a {
      text-decoration: none;
      color: inherit;
    }

    img {
      vertical-align: middle;
    }

    ul {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    * {
      box-sizing: border-box;
    }

    .header {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 60px;
      background-color: #ffffff;
      overflow: hidden;
      z-index: 1;
    }

    .nav-warpper {
      max-width: 1163px;
      margin: 0 auto;
      height: 100%;
      line-height: 60px;
      padding: 0 20px
    }

    .header__logo .logo-img {
      width: 34px;
      margin-right: 25px;
    }

    .header__nav {
      display: inline-block;
      vertical-align: middle;
    }

    .header__nav .menu {
      float: left;
      font-size: 16px;
      color: #4a4a4a;
      margin-right: 21px;
    }

    .header__search {
      display: inline-block;
      vertical-align: middle;
      margin: 0 53px;
      width: 397px;
      height: 36px;
      line-height: 36px;
      border-radius: 22px;
      border: 1px solid #4a90e2;
      padding: 0 13px;
    }

    .header__search .icon {
      width: 24px;
      margin-right: 4px;
    }

    .header__search .input {
      border: none;
      outline: none;
      font-size: 14px;
      background: transparent;
      width: calc(100% - 35px);
    }

    .header__user {
      display: inline-block;
      float: right;
    }

    .header__user .name {
      font-size: 14px;
      color: #4a4a4a;
      margin-right: 14px;
    }

    .header__user .profile {
      width: 30px;
    }

    .main {
      min-height: calc(100vh - 60px);
      padding-top: 60px;
      background-color: #fafafa;
      position: relative;
      overflow: hidden;
    }

    .main section {
      float: left;
    }

    .contents-warpper {
      max-width: 991px;
      margin: 0 auto;
      padding: 34px 0;
    }

    .main__sidebar {
      width: 231px;
      margin-right: 23px;
    }

    .main__sidebar article {
      width: 100%;
      border-radius: 7px;
      background-color: #ffffff;
      padding: 17px 13px 5px;
      margin-bottom: 32px;
    }

    .main__sidebar .popular__title,
    .main__sidebar .rank__title {
      margin: 0 0 24px;
      font-size: 14px;
      font-weight: bold;
      color: #4a4a4a;
    }

    .main__sidebar .list {
      font-size: 14px;
      color: #4a4a4a;
      margin-bottom: 12px;
    }

    .main__sidebar .list__index {
      display: inline-block;
      width: 18px;
      height: 18px;
      line-height: 1.8;
      text-align: center;
      font-size: 11px;
      font-weight: bold;
      border-radius: 6px;
      color: #ffffff;
      background-color: #dbdbdb;
    }

    .main__sidebar .list__index.blue {
      background-color: #2391e9;
    }

    .main__sidebar .popular__order .list__index {
      margin-right: 18px;
    }

    .main__sidebar .rank__order .list__index {
      margin-right: 10px;
    }

    .main__sidebar .list__rating {
      font-size: 14px;
      font-weight: normal;
      color: #9b9b9b;
      text-align: center;
      width: 25px;
      display: inline-block;
    }

    .main__sidebar .und {
      width: 8px;
      vertical-align: unset;
      margin-right: 2px;
    }

    .main__sidebar .dash {
      display: inline-block;
      width: 6px;
      height: 1px;
      background-color: #979797;
      vertical-align: super;
      margin-right: 3px;
      margin-left: 1px;
    }

    .main__listWrapper {
      width: 737px;
    }

    .main__listWrapper .playlist {
      width: 100%;
      height: 240px;
      border-radius: 7px;
      box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.15);
      position: relative;
      overflow: hidden;
      background-color: #ffffff;
      margin-bottom: 34px;
    }

    .main__listWrapper .playlist__theme {
      width: 68px;
      border-bottom: 1px solid #ffffff;
      position: absolute;
      top: 23px;
      left: 26px;
      margin: 0;
      color: #ffffff;
      text-align: center;
      padding-bottom: 8px;
      font-size: 14px;
      font-weight: bold;
    }

    .main__listWrapper .playlist__img {
      width: 397px;
      float: left;
    }

    .main__listWrapper .playlist__meta {
      padding: 22px 19px;
      float: left;
      width: 340px;
    }

    .main__listWrapper .playlist__meta .owner {
      width: 60px;
      float: left;
      margin-right: 15px;
    }

    .main__listWrapper .playlist__meta .title {
      margin: 0;
      font-size: 20px;
      font-weight: normal;
      color: #4a4a4a;
      word-break: keep-all;
      height: 48px;
    }

    .main__listWrapper .playlist__meta .tags {
      margin: 45px 0 16px;
      padding-bottom: 15px;
      border-bottom: 1px solid #9b9b9b;
      color: #9b9b9b;
      font-size: 14px;
      line-height: 1.7;
    }

    .main__listWrapper .playlist__meta .data img {
      width: 20px;
    }

    .main__listWrapper .playlist__meta .data span {
      vertical-align: middle;
      margin-left: 6px;
      margin-right: 16px;
    }

    @media (max-width: 991px) {
      body * {
        display: none;
      }

      body {
        width: 100vw;
        height: 100vh;
        background-color: rgba(0, 0, 0, 0.8);
      }

      body::after {
        display: block;
        content: '지원하지 않는 화면 크기 입니다. 브라우저 크기를 넓혀주세요.';
        position: absolute;
        top: 50%;
        left: 50%;
        width: 230px;
        word-break: keep-all;
        text-align: center;
        line-height: 1.7;
        font-size: 18px;
        color: #ffffff;
        transform: translate(-50%, -50%);
      }
    }
  </style>
</head>
<body>
<header class="header">
<nav class="nav-warpper">
<a class="header__logo" href="#"><img alt="logo" class="logo-img" src="/images/music/logo.png"/></a>
<ul class="header__nav">
<li class="menu"><a href="#">인기차트</a></li>
<li class="menu"><a href="#">추천음악</a></li>
<li class="menu"><a href="#">뮤직비디오</a></li>
</ul>
<div class="header__search">
<img class="icon" src="/images/music/search.png"/>
<input class="input" placeholder="오늘은 무슨 음악을 들을까?" type="text"/>
</div>
<div class="header__user">
<span class="name">강영훈</span>
<img alt="user" class="profile" src="/images/music/user.png"/>
</div>
</nav>
</header>
<div class="main">
<div class="contents-warpper">
<section class="main__sidebar">
<article class="popular">
<h3 class="popular__title">인기 아티스트</h3>
<ul class="popular__order">
<li class="list">
<span class="list__index blue">1</span> 아이유 (IU)
          </li>
<li class="list">
<span class="list__index blue">2</span> 방탄소년단
          </li>
<li class="list">
<span class="list__index blue">3</span> Red Velvet (레드벨벳)
          </li>
<li class="list">
<span class="list__index">4</span> IKON
          </li>
<li class="list">
<span class="list__index">5</span> 멜로망스
          </li>
<li class="list">
<span class="list__index">6</span> 다비치
          </li>
<li class="list">
<span class="list__index">7</span> 윤딴딴
          </li>
<li class="list">
<span class="list__index">8</span> 수지 (SUZY)
          </li>
<li class="list">
<span class="list__index">9</span> 김동률
          </li>
<li class="list">
<span class="list__index">10</span> 폴킴
          </li>
</ul>
</article>
<article class="rank">
<h3 class="rank__title">검색어 순위</h3>
<ul class="rank__order">
<li class="list">
<span class="list__index blue">1</span> <b class="list__rating"><i class="dash"></i>0</b> Queen
          </li>
<li class="list">
<span class="list__index blue">2</span> <b class="list__rating"><i class="dash"></i>0</b> 방탄소년단
          </li>
<li class="list">
<span class="list__index blue">3</span> <b class="list__rating"><i class="dash"></i>0</b> 아이유
          </li>
<li class="list">
<span class="list__index">4</span> <b class="list__rating"><img alt="up" class="und" src="/images/music/up.png"/>7</b> 거미
          </li>
<li class="list">
<span class="list__index">5</span> <b class="list__rating"><img alt="down" class="und" src="/images/music/down.png"/>1</b> 폴킴
          </li>
<li class="list">
<span class="list__index">6</span> <b class="list__rating"><img alt="up" class="und" src="/images/music/up.png"/>1</b> 김범수
          </li>
<li class="list">
<span class="list__index">7</span> <b class="list__rating"><img alt="up" class="und" src="/images/music/up.png"/>6</b> 헤이즈
          </li>
<li class="list">
<span class="list__index">8</span> <b class="list__rating"><img alt="down" class="und" src="/images/music/down.png"/>2</b> 트와이스
          </li>
<li class="list">
<span class="list__index">9</span> <b class="list__rating"><img alt="up" class="und" src="/images/music/up.png"/>7</b> 박효신
          </li>
<li class="list">
<span class="list__index">10</span> <b class="list__rating"><i class="dash"></i>0</b> 신용재 (포맨)
          </li>
</ul>
</article>
</section>
<section class="main__listWrapper" id="list-container">
<article class="playlist" v-bind:key="index" v-for="(item, index) in playlist">
<h5 class="playlist__theme">{{item.category}}</h5>
<img :src="item.imageUrl" alt="background" class="playlist__img"/>
<div class="playlist__meta">
<img :src="item.authorProfileImageUrl" alt="owner" class="owner"/>
<h3 class="title">{{item.title}}</h3>
<p class="tags">
<a class="tag" href="#" v-bind:key="index" v-for="(tag, index) in item.tags">#{{tag}} </a>
</p>
<div class="data">
<img alt="like" class="data__like-img" src="/images/music/like.png"/>
<span class="data__like-count">{{item.likeCount}}</span>
<img alt="music" class="data__music-img" src="/images/music/music.png"/>
<span class="data__music-count">{{item.trackCount}}</span>
</div>
</div>
</article>
</section>
</div>
</div>
<script src="/js/music.js"></script>
</body>
</html>
```

## 태그 구조 파악하기

페이지 코드와 크롬 개발자 도구로 구조를 살펴봅시다.
우리가 원하는 '인기 아티스트'라는 문자열은 `h3` 태그에 있네요.

```html
<h3 class="popular__title">인기 아티스트</h3>
```

그리고 그 아래에 우리가 원하는 10명의 아티스트 이름이 있습니다.
인기 아티스트를 모두 감싸는 태그는 `'popular__order'`라는 클래스를 가진 `` 태그입니다.

![img](https://i.imgur.com/wsZRe9X.jpg)

그리고 그 안의 `` 태그가 아티스트 이름을 담고 있네요.

![img](https://i.imgur.com/cGtd1pf.jpg)

이런 내용을 HTML 텍스트에서 찾아볼 수도 있겠죠? 편한 방식으로 하면 됩니다.
우리가 원하는 정보는 이 부분에 있습니다.

```html
<h3 class="popular__title">인기 아티스트</h3>
<ul class="popular__order">
<li class="list">
<span class="list__index blue">1</span> 아이유 (IU)
          </li>
<li class="list">
<span class="list__index blue">2</span> 방탄소년단
          </li>
<li class="list">
<span class="list__index blue">3</span> Red Velvet (레드벨벳)
          </li>
<li class="list">
<span class="list__index">4</span> IKON
          </li>
<li class="list">
<span class="list__index">5</span> 멜로망스
          </li>
<li class="list">
<span class="list__index">6</span> 다비치
          </li>
<li class="list">
<span class="list__index">7</span> 윤딴딴
          </li>
<li class="list">
<span class="list__index">8</span> 수지 (SUZY)
          </li>
<li class="list">
<span class="list__index">9</span> 김동률
          </li>
<li class="list">
<span class="list__index">10</span> 폴킴
          </li>
</ul>
```

처음에는 눈에 잘 들어오지 않더라도, HTML 코드의 구조를 파악하는 연습을 해야 합니다.
시간을 갖고 천천히 구조를 살펴보세요.

공백과 엔터를 재배열 해보면, 사실 아래와 같은 구조입니다.

```html
<h3 class="popular__title">인기 아티스트</h3>

<ul class="popular__order">
     <li class="list">
          <span class="list__index blue">1</span>
          아이유 (IU)
     </li>
     <li class="list">
          <span class="list__index blue">2</span>
          방탄소년단
     </li>
     <li class="list">
          <span class="list__index blue">3</span>
          Red Velvet (레드벨벳)
     </li>
     <li class="list">
          <span class="list__index">4</span>
          IKON
     </li>
     <li class="list">
          <span class="list__index">5</span>
          멜로망스
     </li>
     <li class="list">
          <span class="list__index">6</span>
          다비치
     </li>
     <li class="list">
          <span class="list__index">7</span>
          윤딴딴
     </li>
     <li class="list">
          <span class="list__index">8</span>
          수지 (SUZY)
     </li>
     <li class="list">
          <span class="list__index">9</span>
          김동률
     </li>
     <li class="list">
          <span class="list__index">10</span>
          폴킴
     </li>
</ul>
```

`"popular__order"`라는 클래스를 갖는 `` 태그가 있고, 그 아래에 10개의 `` 태그가 있습니다.
각 `` 태그는 1개의 `` 태그와 텍스트를 갖고 있습니다.
`` 태그에는 순위가 들어 있네요.

## 태그 골라내기

이 HTML 태그에서 10명의 아티스트 이름을 선택하는 방법은 여러 가지가 있는데요.

`'popular__order'` 클래스를 가진 `` 태그에 중첩된 모든 `` 태그를 선택해 봅시다.
선택자를 `.popular__order li`라고 하면 되겠죠?

```python
import requests
from bs4 import BeautifulSoup

# HTML 코드 받아오기
response = requests.get("https://workey.codeit.kr/music/index")

# BeautifulSoup 타입으로 변환
soup = BeautifulSoup(response.text, 'html.parser')

# "popular__order" 클래스를 가진 태그에 중첩된 모든 <li> 태그 선택
soup.select(".popular__order li")
[<li class="list">
 <span class="list__index blue">1</span> 아이유 (IU)
           </li>, <li class="list">
 <span class="list__index blue">2</span> 방탄소년단
           </li>, <li class="list">
 <span class="list__index blue">3</span> Red Velvet (레드벨벳)
           </li>, <li class="list">
 <span class="list__index">4</span> IKON
           </li>, <li class="list">
 <span class="list__index">5</span> 멜로망스
           </li>, <li class="list">
 <span class="list__index">6</span> 다비치
           </li>, <li class="list">
 <span class="list__index">7</span> 윤딴딴
           </li>, <li class="list">
 <span class="list__index">8</span> 수지 (SUZY)
           </li>, <li class="list">
 <span class="list__index">9</span> 김동률
           </li>, <li class="list">
 <span class="list__index">10</span> 폴킴
           </li>]
```

`` 태그 10개의 리스트가 출력되었습니다.

우리는 각 `` 태그 안에 있는 텍스트만 꺼내오고 싶습니다. `text` 메소드를 활용합시다.

그리고 리스트의 각 요소에 모두 적용하기 위해, `for` 반복문을 사용합니다.

```python
import requests
from bs4 import BeautifulSoup

# HTML 코드 받아오기
response = requests.get("https://workey.codeit.kr/music/index")

# BeautifulSoup 타입으로 변환
soup = BeautifulSoup(response.text, 'html.parser')

# "popular__order" 클래스를 가진 태그에 중첩된 모든 <li> 태그 선택
li_tags = soup.select(".popular__order li")

# 빈 리스트 생성
popular_artists = []

# 텍스트 추출해서 리스트에 담기
for li in li_tags:
    popular_artists.append(li.text)

# 결과 출력
print(popular_artists)
['\n1 아이유 (IU)\n          ', '\n2 방탄소년단\n          ', '\n3 Red Velvet (레드벨벳)\n          ', '\n4 IKON\n          ', '\n5 멜로망스\n          ', '\n6 다비치\n          ', '\n7 윤딴딴\n          ', '\n8 수지 (SUZY)\n          ', '\n9 김동률\n          ', '\n10 폴킴\n          ']
```

여기에 앞뒤 공백만 제거하면 우리가 원하는 데이터만 골라낼 수 있겠네요.

```python
import requests
from bs4 import BeautifulSoup

# HTML 코드 받아오기
response = requests.get("https://workey.codeit.kr/music/index")

# BeautifulSoup 타입으로 변환
soup = BeautifulSoup(response.text, 'html.parser')

# "popular__order" 클래스를 가진 태그에 중첩된 모든 <li> 태그 선택
li_tags = soup.select(".popular__order li")

# 빈 리스트 생성
popular_artists = []

# 텍스트 추출해서 리스트에 담기
for li in li_tags:
    popular_artists.append(li.text.strip())

# 결과 출력
print(popular_artists)
['1 아이유 (IU)', '2 방탄소년단', '3 Red Velvet (레드벨벳)', '4 IKON', '5 멜로망스', '6 다비치', '7 윤딴딴', '8 수지 (SUZY)', 
```



### (9) 실습 : 그녀의 전화번호를 찾아서

운명적인 그녀를 만났습니다. 하지만 오렌지 보틀에서 일한다는 것 말고는 아는 게 전혀 없네요.

오렌지 보틀의 [웹사이트](https://workey.codeit.kr/orangebottle/index)에 가서, 모든 지점의 전화번호를 모아보려고 합니다.

모든 지점의 전화번호가 포함된 리스트를 print 해 보세요.



> 정답 Code

```python
import requests
from bs4 import BeautifulSoup

# 코드를 작성하세요
response = requests.get('https://workey.codeit.kr/orangebottle/index')
soup = BeautifulSoup(response.text,'html.parser')
# 결과 출력
num_list = soup.select('.phoneNum')
phone_numbers = []
for i in num_list:
    phone_numbers.append(i.text)
    
print(phone_numbers)
```



> 해설

## HTML 코드 받아오기

먼저 [오렌지 보틀](https://workey.codeit.kr/orangebottle/index)의 HTML 코드를 받아서 BeautifulSoup 타입으로 바꿔봅시다.

```python
import requests
from bs4 import BeautifulSoup

# HTML 코드 받아오기
response = requests.get("https://workey.codeit.kr/orangebottle/index")

# BeautifulSoup 타입으로 변환
soup = BeautifulSoup(response.text, 'html.parser')

# 결과 출력
print(soup)
<!DOCTYPE html>

<html>
<head>
<title>Orange bottle coffee</title>
<meta charset="utf-8"/>
<link href="https://fonts.googleapis.com/css?family=Noto+Sans+KR" rel="stylesheet"/>
<style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            margin: 0;
            background-color: #ffffff;
        }

        /*navigation bar*/
        #bottle {
            margin-top: 12px;
            margin-bottom: 11px;
            margin-left: 79px;
            margin-right: 24px;
            vertical-align: middle;
            width: 13px;
        }

        #title {
            font-size: 14px;
            font-weight: bold;
            vertical-align: middle;
            color: #4a4a4a;
        }

        ul {
            display: inline;
            padding-left: 0;
        }

        li {
            float: right;
            list-style-type: none;
            font-size: 14px;
        }

        #subscribe {
            color: #f5a623;
            margin-right: 25px;
            line-height: 58px;
        }

        #signin {
            margin-right: 65px;
            line-height: 58px;
            color: #4a4a4a;
        }

        /*main image*/
        #mainimg {
            height: 533px;
            line-height: 533px;
            margin-bottom: 122px;
            background-image: url("/images/orangebottle/background.jpg");
            background-size: cover;
            background-position: center center;
            text-align: center;
        }

        #mainimg #maintext {
            line-height: normal;
            display: inline-block;
            vertical-align: middle;
            font-size: 25px;
            color: #ffffff;
        }

        /*branches*/
        .container {
            width: 1100px;
            margin-left: auto;
            margin-right: auto;
            overflow: hidden;
        }

        .container .branch {
            width: 25%;
            height: 164px;
            float: left;
            padding-left: 40px;
            padding-right: 40px;
            margin-top: 10px;
            margin-bottom: 80px;
            box-sizing: border-box;
        }

        .container .branch .city {
            display: inline-block;
            margin: 0;
            border-radius: 8px;
            padding: 5px 8px;
            font-size: 14px;
            color: white;
            background-color: #f5a623;
        }

        .container .branch .ave {
            margin: 12px 0;
            font-size: 16px;
            color: #f5a623;
        }

        .container .branch .address {
            margin: 12px 0;
            color: #4a4a4a;
            line-height: 1.6;
        }

        .container .branch img {
            vertical-align: middle;
            margin-right: 9px;
        }

        .container .branch .phoneNum {
            color: #818181;
        }

        /*signup*/

        #footer {
            width: 100%;
            height: 453px;
            background-color: #f9f9f9;
            float: left;
        }

        #footer h1 {
            margin-top: 75px;
            margin-bottom: 37px;
            font-size: 40px;
            font-weight: 300;
            text-align: center;
            color: #9b9b9b;
        }

        #footer h2 {
            font-size: 16px;
            text-align: center;
            color: #4a4a4a;
            margin-bottom: 58px;
        }

        #footer #signup {
            width: 646px;
            height: 70px;
            background-color: white;
            margin-left: auto;
            margin-right: auto;
        }

        #footer #signup input {
            border: none;
            font-size: 20px; /*원래는 16*/
            margin-top: 19px;
            margin-bottom: 27px;
            margin-left: 34px;
            color: #9b9b9b;
            width: 450px;
            height: 30px;
        }

        #footer #signup #submit {
            width: 130px;
            height: 70px;
            float: right;
            background-color: #f5a623;
            text-align: center;
            line-height: 70px;
        }

        #footer #signup a {
            text-decoration: none;
            color: #ffffff;
            font-size: 18px;
        }


    </style>
</head>
<body>
<div id="navbar">
<a href="#" style="text-decoration: none;color:#4a4a4a;">
<img id="bottle" src="/images/orangebottle/logo.png"/>
<span id="title"> ORANGE BOTTLE COFFEE</span>
</a>
<ul>
<a href="#" style="color:black;">
<li id="signin">SIGN IN</li>
</a>
<a href="#">
<li id="subscribe">SUBSCRIBE</li>
</a>
</ul>
</div>
<!-- main image -->
<div id="mainimg">
<div id="maintext">
<h1>Find Your Orange Bottle Cafe</h1>
</div>
</div>
<!-- cafe branches -->
<div class="container">
<div class="branch">
<p class="city">San Jose</p>
<p class="ave">Fairway</p>
<p class="address">4823 Fairway Drive</p>
<img src="/images/orangebottle/phone_icon.png" width="20px"/>
<span class="phoneNum">707-514-0033</span>
</div>
<div class="branch">
<p class="city">GREAT BARTON</p>
<p class="ave">Lammas</p>
<p class="address">106 Lammas Street</p>
<img src="/images/orangebottle/phone_icon.png" width="20px"/>
<span class="phoneNum">070 3460 5076</span>
</div>
<div class="branch">
<p class="city">Hamilton</p>
<p class="ave">Bridgeport</p>
<p class="address">3791  Bridgeport Rd</p>
<img src="/images/orangebottle/phone_icon.png" width="20px"/>
<span class="phoneNum">905-389-4463</span>
</div>
<div class="branch">
<p class="city">JERRAWA</p>
<p class="ave">Marlin</p>
<p class="address">40 Marlin Avenue</p>
<img src="/images/orangebottle/phone_icon.png" width="20px"/>
<span class="phoneNum">(02) 6175 8642</span>
</div>
<div class="branch">
<p class="city">Rudersberg</p>
<p class="ave">Pasewalker</p>
<p class="address">Pasewalker Straße 5</p>
<img src="/images/orangebottle/phone_icon.png" width="20px"/>
<span class="phoneNum">07183 30 07 96</span>
</div>
<div class="branch">
<p class="city">København K</p>
<p class="ave">Toftvej</p>
<p class="address">Toftvej 35</p>
<img src="/images/orangebottle/phone_icon.png" width="20px"/>
<span class="phoneNum">21-90-47700</span>
</div>
<div class="branch">
<p class="city">Guadalajara</p>
<p class="ave">Revolucion</p>
<p class="address">Av. Revolucion 737</p>
<img src="/images/orangebottle/phone_icon.png" width="20px"/>
<span class="phoneNum">33 36175334</span>
</div>
<div class="branch">
<p class="city">Poughkeepsie</p>
<p class="ave">Old Dear Lane</p>
<p class="address">4927 Old Dear Lane</p>
<img src="/images/orangebottle/phone_icon.png" width="20px"/>
<span class="phoneNum">845-857-0825</span>
</div>
<div class="branch">
<p class="city">Elgin</p>
<p class="ave">Pineview</p>
<p class="address">2491 Pineview Drive</p>
<img src="/images/orangebottle/phone_icon.png" width="20px"/>
<span class="phoneNum">507-876-0713</span>
</div>
<div class="branch">
<p class="city">Oak Brook</p>
<p class="ave">Vesta</p>
<p class="address">2591 Vesta Drive</p>
<img src="/images/orangebottle/phone_icon.png" width="20px"/>
<span class="phoneNum">773-757-1932</span>
</div>
<div class="branch">
<p class="city">Annapolis Junction</p>
<p class="ave">Bluff</p>
<p class="address">889 Bluff Street</p>
<img src="/images/orangebottle/phone_icon.png" width="20px"/>
<span class="phoneNum">301-787-8206</span>
</div>
<div class="branch">
<p class="city">Los Angeles</p>
<p class="ave">Jett</p>
<p class="address">1014 Jett Lane</p>
<img src="/images/orangebottle/phone_icon.png" width="20px"/>
<span class="phoneNum">310-718-6212</span>
</div>
<div class="branch">
<p class="city">Arlington</p>
<p class="ave">Single</p>
<p class="address">3158 Single Street</p>
<img src="/images/orangebottle/phone_icon.png" width="20px"/>
<span class="phoneNum">781-646-1715</span>
</div>
<div class="branch">
<p class="city">Syracuse</p>
<p class="ave">Plainfield</p>
<p class="address">3741 Plainfield Avenue</p>
<img src="/images/orangebottle/phone_icon.png" width="20px"/>
<span class="phoneNum">315-576-8242</span>
</div>
<div class="branch">
<p class="city">San Mateo</p>
<p class="ave">Thunder</p>
<p class="address">2425 Thunder Road</p>
<img src="/images/orangebottle/phone_icon.png" width="20px"/>
<span class="phoneNum">650-577-7537</span>
</div>
<div class="branch">
<p class="city">Valdosta</p>
<p class="ave">Junkins</p>
<p class="address">1022 Junkins Avenue</p>
<img src="/images/orangebottle/phone_icon.png" width="20px"/>
<span class="phoneNum">229-460-4970</span>
</div>
<div class="branch">
<p class="city">Hialeah</p>
<p class="ave">Poplar</p>
<p class="address">101 Poplar Lane</p>
<img src="/images/orangebottle/phone_icon.png" width="20px"/>
<span class="phoneNum">305-540-4990</span>
</div>
<div class="branch">
<p class="city">Lexington</p>
<p class="ave">Straford</p>
<p class="address">793 Straford Park</p>
<img src="/images/orangebottle/phone_icon.png" width="20px"/>
<span class="phoneNum">606-614-9190</span>
</div>
<div class="branch">
<p class="city">Johnsonburg</p>
<p class="ave">Custer</p>
<p class="address">2566 Custer Street</p>
<img src="/images/orangebottle/phone_icon.png" width="20px"/>
<span class="phoneNum">814-965-6502</span>
</div>
<div class="branch">
<p class="city">Hokkaido</p>
<p class="ave">Kita</p>
<p class="address">244-1192, Kita 6-jonishi, Abashiri-shi, Hokkaido</p>
<img src="/images/orangebottle/phone_icon.png" width="20px"/>
<span class="phoneNum">8134-191-6900</span>
</div>
<div class="branch">
<p class="city">Port Chester</p>
<p class="ave">Ward</p>
<p class="address">1503 Ward Road</p>
<img src="/images/orangebottle/phone_icon.png" width="20px"/>
<span class="phoneNum">914-933-3946</span>
</div>
<div class="branch">
<p class="city">Salt Lake City</p>
<p class="ave">Kemper</p>
<p class="address">4745 Kemper Lane</p>
<img src="/images/orangebottle/phone_icon.png" width="20px"/>
<span class="phoneNum">801-927-7191</span>
</div>
<div class="branch">
<p class="city">Villaluenga del Rosario</p>
<p class="ave">Vientos</p>
<p class="address">C/ Rosa de los Vientos 36</p>
<img src="/images/orangebottle/phone_icon.png" width="20px"/>
<span class="phoneNum">736 301 706</span>
</div>
<div class="branch">
<p class="city">London</p>
<p class="ave">King Street</p>
<p class="address">733 King Street EAST CENTRAL LONDON EC86 0YR</p>
<img src="/images/orangebottle/phone_icon.png" width="20px"/>
<span class="phoneNum">916-863-6154</span>
</div>
<div class="branch">
<p class="city">GLOUCESTER</p>
<p class="ave">New Road</p>
<p class="address">8857 New Road GLOUCESTER GL79 3CZ</p>
<img src="/images/orangebottle/phone_icon.png" width="20px"/>
<span class="phoneNum">252-218-2526</span>
</div>
<div class="branch">
<p class="city">NEWPORT</p>
<p class="ave">George</p>
<p class="address">760 George Street NEWPORT NP73 0CH</p>
<img src="/images/orangebottle/phone_icon.png" width="20px"/>
<span class="phoneNum">803-535-5627</span>
</div>
<div class="branch">
<p class="city">TAUNTON</p>
<p class="ave">The Green</p>
<p class="address">749 The Green TAUNTON TA27 9JQ</p>
<img src="/images/orangebottle/phone_icon.png" width="20px"/>
<span class="phoneNum">580-730-2253</span>
</div>
<div class="branch">
<p class="city">SOUTHEND-ON-SEA</p>
<p class="ave">Springfield</p>
<p class="address">271 Springfield Road SOUTHEND-ON-SEA SS98 1PA</p>
<img src="/images/orangebottle/phone_icon.png" width="20px"/>
<span class="phoneNum">240-597-0099</span>
</div>
<div class="branch">
<p class="city">SHEFFIELD</p>
<p class="ave">Highfield</p>
<p class="address">500 Highfield Road SHEFFIELD S98 6VM</p>
<img src="/images/orangebottle/phone_icon.png" width="20px"/>
<span class="phoneNum">210-727-9560</span>
</div>
<div class="branch">
<p class="city">HULL</p>
<p class="ave">Albert</p>
<p class="address">8772 Albert Road HULL HU2 6SN</p>
<img src="/images/orangebottle/phone_icon.png" width="20px"/>
<span class="phoneNum">919-887-6912</span>
</div>
<div class="branch">
<p class="city">SHREWSBURY</p>
<p class="ave">Church</p>
<p class="address">38 Church Street SHREWSBURY SY79 9TY</p>
<img src="/images/orangebottle/phone_icon.png" width="20px"/>
<span class="phoneNum">614-449-8617</span>
</div>
<div class="branch">
<p class="city">DURHAM</p>
<p class="ave">DURHAM</p>
<p class="address">12 New Road DURHAM DH78 4XK</p>
<img src="/images/orangebottle/phone_icon.png" width="20px"/>
<span class="phoneNum">830-229-4983</span>
</div>
<div class="branch">
<p class="city">Honolulu</p>
<p class="ave">Don Jackson</p>
<p class="address">4153 Don Jackson Lane</p>
<img src="/images/orangebottle/phone_icon.png" width="20px"/>
<span class="phoneNum">303-284-0638</span>
</div>
<div class="branch">
<p class="city">Wayne</p>
<p class="ave">Bombardier</p>
<p class="address">2438 Bombardier Way</p>
<img src="/images/orangebottle/phone_icon.png" width="20px"/>
<span class="phoneNum">734-981-4470</span>
</div>
<div class="branch">
<p class="city">Milton</p>
<p class="ave">Courtright</p>
<p class="address">3258 Courtright Street</p>
<img src="/images/orangebottle/phone_icon.png" width="20px"/>
<span class="phoneNum">701-496-3125</span>
</div>
<div class="branch">
<p class="city">NEWCASTLE</p>
<p class="ave">The Grove</p>
<p class="address">9982 The Grove NEWCASTLE UPON TYNE NE21 0RM</p>
<img src="/images/orangebottle/phone_icon.png" width="20px"/>
<span class="phoneNum">605-677-5038</span>
</div>
<div class="branch">
<p class="city">BRISTOL</p>
<p class="ave">Richmond</p>
<p class="address">8253 Richmond Road BRISTOL BS70 9LU</p>
<img src="/images/orangebottle/phone_icon.png" width="20px"/>
<span class="phoneNum">209-848-9572</span>
</div>
<div class="branch">
<p class="city">BOURNEMOUTH</p>
<p class="ave">Broadway</p>
<p class="address">22 Broadway BOURNEMOUTH BH73 8ON</p>
<img src="/images/orangebottle/phone_icon.png" width="20px"/>
<span class="phoneNum">760-464-6831</span>
</div>
<div class="branch">
<p class="city">LEICESTER</p>
<p class="ave">Green Lane</p>
<p class="address">748 Green Lane LEICESTER LE77 6VE</p>
<img src="/images/orangebottle/phone_icon.png" width="20px"/>
<span class="phoneNum">508-272-0114</span>
</div>
<div class="branch">
<p class="city">SUNDERLAND</p>
<p class="ave">New Road</p>
<p class="address">48 New Road SUNDERLAND SR39 2NY</p>
<img src="/images/orangebottle/phone_icon.png" width="20px"/>
<span class="phoneNum">845-915-5076</span>
</div>
<div class="branch">
<p class="city">BOLTON</p>
<p class="ave">North Street</p>
<p class="address">19 North Street BOLTON BL77 4TC</p>
<img src="/images/orangebottle/phone_icon.png" width="20px"/>
<span class="phoneNum">973-640-3581</span>
</div>
<div class="branch">
<p class="city">SOUTHAMPTON</p>
<p class="ave">King Street</p>
<p class="address">60 King Street SOUTHAMPTON SO75 5PZ</p>
<img src="/images/orangebottle/phone_icon.png" width="20px"/>
<span class="phoneNum">541-579-1559</span>
</div>
<div class="branch">
<p class="city">BLACKPOOL</p>
<p class="ave">Highfield</p>
<p class="address">8579 Highfield Road BLACKPOOL FY68 1LM</p>
<img src="/images/orangebottle/phone_icon.png" width="20px"/>
<span class="phoneNum">336-212-0408</span>
</div>
<div class="branch">
<p class="city">DARLINGTON</p>
<p class="ave">High Street</p>
<p class="address">9175 High Street DARLINGTON DL86 7BQ</p>
<img src="/images/orangebottle/phone_icon.png" width="20px"/>
<span class="phoneNum">845-340-3808</span>
</div>
<div class="branch">
<p class="city">LIVERPOOL</p>
<p class="ave">Main Road</p>
<p class="address">100 Main Road LIVERPOOL L80 4XI</p>
<img src="/images/orangebottle/phone_icon.png" width="20px"/>
<span class="phoneNum">561-526-2625</span>
</div>
<div class="branch">
<p class="city">MANCHESTER</p>
<p class="ave">Park Lane</p>
<p class="address">52 Park Lane MANCHESTER M8 0KJ</p>
<img src="/images/orangebottle/phone_icon.png" width="20px"/>
<span class="phoneNum">801-608-1332</span>
</div>
<div class="branch">
<p class="city">SHEFFIELD</p>
<p class="ave">Kings Road</p>
<p class="address">79 Kings Road SHEFFIELD S88 2KY</p>
<img src="/images/orangebottle/phone_icon.png" width="20px"/>
<span class="phoneNum">510-214-0266</span>
</div>
<div class="branch">
<p class="city">BOLTON</p>
<p class="ave">Mill</p>
<p class="address">95 Mill Road BOLTON BL48 9OR</p>
<img src="/images/orangebottle/phone_icon.png" width="20px"/>
<span class="phoneNum">785-253-0084</span>
</div>
<div class="branch">
<p class="city">SWANSEA</p>
<p class="ave">South</p>
<p class="address">466 South Street SWANSEA SA34 7PT</p>
<img src="/images/orangebottle/phone_icon.png" width="20px"/>
<span class="phoneNum">585-749-2163</span>
</div>
<div class="branch">
<p class="city">LEEDS</p>
<p class="ave">Mill Lane</p>
<p class="address">308 Mill Lane LEEDS LS35 5JS</p>
<img src="/images/orangebottle/phone_icon.png" width="20px"/>
<span class="phoneNum">312-362-2484</span>
</div>
<div class="branch">
<p class="city">SWANSEA</p>
<p class="ave">York Road</p>
<p class="address">222 York Road SWANSEA SA87 4WS</p>
<img src="/images/orangebottle/phone_icon.png" width="20px"/>
<span class="phoneNum">570-603-5788</span>
</div>
<div class="branch">
<p class="city">CARDIFF</p>
<p class="ave">West Street</p>
<p class="address">125 West Street CARDIFF CF95 6CN</p>
<img src="/images/orangebottle/phone_icon.png" width="20px"/>
<span class="phoneNum">802-738-8477</span>
</div>
<div class="branch">
<p class="city">LEICESTER</p>
<p class="ave">New Road</p>
<p class="address">64 New Road LEICESTER LE37 3VW</p>
<img src="/images/orangebottle/phone_icon.png" width="20px"/>
<span class="phoneNum">507-771-8684</span>
</div>
<div class="branch">
<p class="city">SOUTHAMPTON</p>
<p class="ave">Main Street</p>
<p class="address">90 Main Street SOUTHAMPTON SO41 5RP</p>
<img src="/images/orangebottle/phone_icon.png" width="20px"/>
<span class="phoneNum">720-634-0176</span>
</div>
<div class="branch">
<p class="city">IPSWICH</p>
<p class="ave">Stanley Road</p>
<p class="address">8339 Stanley Road IPSWICH IP79 6SN</p>
<img src="/images/orangebottle/phone_icon.png" width="20px"/>
<span class="phoneNum">313-930-0331</span>
</div>
<div class="branch">
<p class="city">Tokyo</p>
<p class="ave">Ebisu</p>
<p class="address">481-1228, Ebisu Ebisugadempureisu(28-kai), Shibuya-ku</p>
<img src="/images/orangebottle/phone_icon.png" width="20px"/>
<span class="phoneNum">8188-165-7118</span>
</div>
<div class="branch">
<p class="city">Seoul</p>
<p class="ave">Gongdeok</p>
<p class="address">310-5, Samseongraemiangongdeok 3 chaapateu, Gongdeok-dong, Mapo-gu</p>
<img src="/images/orangebottle/phone_icon.png" width="20px"/>
<span class="phoneNum">02-455-1973</span>
</div>
</div>
<!-- signup -->
<div id="footer">
<h1>SIGN UP</h1>
<h2>Sign up for stories, coffee tips, and brewing equipment</h2>
<div id="signup">
<input placeholder="Your email here" type="text"/>
<a href="#" id="submit">SIGN UP
        </a>
</div>
</div>
</body>
</html>
```

모든 전화번호가 저장된 HTML 코드를 가져왔습니다.

## HTML 코드 분석하기

전화번호만 골라내기 위해서, 어떤 CSS 선택자를 사용할 수 있을까요?

개발자 도구 혹은 HTML 코드를 통해 살펴보면, 전화번호는 다음 코드와 같이 `phoneNum`이라는 클래스를 가진 `` 태그에 텍스트로 포함되어 있다는 걸 알 수 있습니다.

```html
<span class="phoneNum">507-771-8684</span>
```

## 파싱하기

`phoneNum`이라는 클래스에 대한 CSS 선택자는 `.phoneNum`입니다.

```python
# "phoneNum" 클래스를 가진 태그 선택하기
phoneNum_tags = soup.select('.phoneNum')
```

결과가 잘 나오는지 확인하기 위해, 첫 번째 요소의 텍스트를 출력해 봅시다.

```python
# 첫 번째 태그의 텍스트 출력
print(phoneNum_tags[0].text)
707-514-0033
```

정확히 전화번호만 잘 출력되네요.

이제 반복문을 통해, 모든 전화번호를 리스트에 넣어줍니다.

```python
# "phoneNum" 클래스를 가진 태그 선택하기
phoneNum_tags = soup.select('.phoneNum')

# 빈 리스트 생성
phone_numbers = []

# 텍스트 추출해서 리스트에 담기
for tag in phoneNum_tags:
    phone_numbers.append(tag.text)
```

리스트를 출력하면 모든 전화번호가 나오는 것을 확인할 수 있습니다.

```python
# 결과 출력
print(phone_numbers)
['707-514-0033', '070 3460 5076', '905-389-4463', '(02) 6175 8642', '07183 30 07 96', '21-90-47700', '33 36175334', '845-857-0825', '507-876-0713', '773-757-1932', '301-787-8206', '310-718-6212', '781-646-1715', '315-576-8242', '650-577-7537', '229-460-4970', '305-540-4990', '606-614-9190', '814-965-6502', '8134-191-6900', '914-933-3946', '801-927-7191', '736 301 706', '916-863-6154', '252-218-2526', '803-535-5627', '580-730-2253', '240-597-0099', '210-727-9560', '919-887-6912', '614-449-8617', '830-229-4983', '303-284-0638', '734-981-4470', '701-496-3125', '605-677-5038', '209-848-9572', '760-464-6831', '508-272-0114', '845-915-5076', '973-640-3581', '541-579-1559', '336-212-0408', '845-340-3808', '561-526-2625', '801-608-1332', '510-214-0266', '785-253-0084', '585-749-2163', '312-362-2484', '570-603-5788', '802-738-8477', '507-771-8684', '720-634-0176', '313-930-0331', '8188-165-7118', '02-455-1973']
```

전체 코드는 다음과 같습니다.

```python
import requests
from bs4 import BeautifulSoup

# HTML 코드 받아오기
response = requests.get("https://workey.codeit.kr/orangebottle/index")

# BeautifulSoup 타입으로 변환
soup = BeautifulSoup(response.text, 'html.parser')

# "phoneNum" 클래스를 가진 태그 선택하기
phoneNum_tags = soup.select('.phoneNum')

# 빈 리스트 생성
phone_numbers = []

# 텍스트 추출해서 리스트에 담기
for tag in phoneNum_tags:
    phone_numbers.append(tag.text)

# 결과 출력
print(phone_numbers)
```



### (10) 실습 : 검색어 순위 받아오기

[음악 사이트](https://workey.codeit.kr/music/index)의 검색어 순위를 받아오려 합니다.

'인기 아티스트' 아래에 있는 '검색어 순위'의 1위~10위 데이터를 파싱해서 리스트에 담아 print 해 보세요.



> 정답 Code

```python
import requests
from bs4 import BeautifulSoup

# 코드를 작성하세요
response = requests.get('https://workey.codeit.kr/music/index')
soup = BeautifulSoup(response.text,'html.parser')
# 결과 출력
ranks = soup.select('.rank__order li')
search_ranks = []
for rank in ranks:
    search_ranks.append(rank.text.strip().split(' ')[2])
print(search_ranks)
```



> 해설

## HTML 코드 받아오기

먼저 [음악 사이트](https://workey.codeit.kr/music/index)의 페이지 코드를 받아와서 변수 `codeit_music`에 저장해 봅시다.

```python
import requests
from bs4 import BeautifulSoup

# HTML 코드 받아오기
response = requests.get("https://workey.codeit.kr/music/index")

# BeautifulSoup 타입으로 변환
soup = BeautifulSoup(response.text, 'html.parser')

# 결과 출력
print(soup)
<!DOCTYPE html>

<html lang="ko">
<head>
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<meta charset="utf-8"/>
<title>Codeit Music</title>
<style>
    body {
      margin: 0;
    }

    a {
      text-decoration: none;
      color: inherit;
    }

    img {
      vertical-align: middle;
    }

    ul {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    * {
      box-sizing: border-box;
    }

    .header {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 60px;
      background-color: #ffffff;
      overflow: hidden;
      z-index: 1;
    }

    .nav-warpper {
      max-width: 1163px;
      margin: 0 auto;
      height: 100%;
      line-height: 60px;
      padding: 0 20px
    }

    .header__logo .logo-img {
      width: 34px;
      margin-right: 25px;
    }

    .header__nav {
      display: inline-block;
      vertical-align: middle;
    }

    .header__nav .menu {
      float: left;
      font-size: 16px;
      color: #4a4a4a;
      margin-right: 21px;
    }

    .header__search {
      display: inline-block;
      vertical-align: middle;
      margin: 0 53px;
      width: 397px;
      height: 36px;
      line-height: 36px;
      border-radius: 22px;
      border: 1px solid #4a90e2;
      padding: 0 13px;
    }

    .header__search .icon {
      width: 24px;
      margin-right: 4px;
    }

    .header__search .input {
      border: none;
      outline: none;
      font-size: 14px;
      background: transparent;
      width: calc(100% - 35px);
    }

    .header__user {
      display: inline-block;
      float: right;
    }

    .header__user .name {
      font-size: 14px;
      color: #4a4a4a;
      margin-right: 14px;
    }

    .header__user .profile {
      width: 30px;
    }

    .main {
      min-height: calc(100vh - 60px);
      padding-top: 60px;
      background-color: #fafafa;
      position: relative;
      overflow: hidden;
    }

    .main section {
      float: left;
    }

    .contents-warpper {
      max-width: 991px;
      margin: 0 auto;
      padding: 34px 0;
    }

    .main__sidebar {
      width: 231px;
      margin-right: 23px;
    }

    .main__sidebar article {
      width: 100%;
      border-radius: 7px;
      background-color: #ffffff;
      padding: 17px 13px 5px;
      margin-bottom: 32px;
    }

    .main__sidebar .popular__title,
    .main__sidebar .rank__title {
      margin: 0 0 24px;
      font-size: 14px;
      font-weight: bold;
      color: #4a4a4a;
    }

    .main__sidebar .list {
      font-size: 14px;
      color: #4a4a4a;
      margin-bottom: 12px;
    }

    .main__sidebar .list__index {
      display: inline-block;
      width: 18px;
      height: 18px;
      line-height: 1.8;
      text-align: center;
      font-size: 11px;
      font-weight: bold;
      border-radius: 6px;
      color: #ffffff;
      background-color: #dbdbdb;
    }

    .main__sidebar .list__index.blue {
      background-color: #2391e9;
    }

    .main__sidebar .popular__order .list__index {
      margin-right: 18px;
    }

    .main__sidebar .rank__order .list__index {
      margin-right: 10px;
    }

    .main__sidebar .list__rating {
      font-size: 14px;
      font-weight: normal;
      color: #9b9b9b;
      text-align: center;
      width: 25px;
      display: inline-block;
    }

    .main__sidebar .und {
      width: 8px;
      vertical-align: unset;
      margin-right: 2px;
    }

    .main__sidebar .dash {
      display: inline-block;
      width: 6px;
      height: 1px;
      background-color: #979797;
      vertical-align: super;
      margin-right: 3px;
      margin-left: 1px;
    }

    .main__listWrapper {
      width: 737px;
    }

    .main__listWrapper .playlist {
      width: 100%;
      height: 240px;
      border-radius: 7px;
      box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.15);
      position: relative;
      overflow: hidden;
      background-color: #ffffff;
      margin-bottom: 34px;
    }

    .main__listWrapper .playlist__theme {
      width: 68px;
      border-bottom: 1px solid #ffffff;
      position: absolute;
      top: 23px;
      left: 26px;
      margin: 0;
      color: #ffffff;
      text-align: center;
      padding-bottom: 8px;
      font-size: 14px;
      font-weight: bold;
    }

    .main__listWrapper .playlist__img {
      width: 397px;
      float: left;
    }

    .main__listWrapper .playlist__meta {
      padding: 22px 19px;
      float: left;
      width: 340px;
    }

    .main__listWrapper .playlist__meta .owner {
      width: 60px;
      float: left;
      margin-right: 15px;
    }

    .main__listWrapper .playlist__meta .title {
      margin: 0;
      font-size: 20px;
      font-weight: normal;
      color: #4a4a4a;
      word-break: keep-all;
      height: 48px;
    }

    .main__listWrapper .playlist__meta .tags {
      margin: 45px 0 16px;
      padding-bottom: 15px;
      border-bottom: 1px solid #9b9b9b;
      color: #9b9b9b;
      font-size: 14px;
      line-height: 1.7;
    }

    .main__listWrapper .playlist__meta .data img {
      width: 20px;
    }

    .main__listWrapper .playlist__meta .data span {
      vertical-align: middle;
      margin-left: 6px;
      margin-right: 16px;
    }

    @media (max-width: 991px) {
      body * {
        display: none;
      }

      body {
        width: 100vw;
        height: 100vh;
        background-color: rgba(0, 0, 0, 0.8);
      }

      body::after {
        display: block;
        content: '지원하지 않는 화면 크기 입니다. 브라우저 크기를 넓혀주세요.';
        position: absolute;
        top: 50%;
        left: 50%;
        width: 230px;
        word-break: keep-all;
        text-align: center;
        line-height: 1.7;
        font-size: 18px;
        color: #ffffff;
        transform: translate(-50%, -50%);
      }
    }
  </style>
</head>
<body>
<header class="header">
<nav class="nav-warpper">
<a class="header__logo" href="#"><img alt="logo" class="logo-img" src="/images/music/logo.png"/></a>
<ul class="header__nav">
<li class="menu"><a href="#">인기차트</a></li>
<li class="menu"><a href="#">추천음악</a></li>
<li class="menu"><a href="#">뮤직비디오</a></li>
</ul>
<div class="header__search">
<img class="icon" src="/images/music/search.png"/>
<input class="input" placeholder="오늘은 무슨 음악을 들을까?" type="text"/>
</div>
<div class="header__user">
<span class="name">강영훈</span>
<img alt="user" class="profile" src="/images/music/user.png"/>
</div>
</nav>
</header>
<div class="main">
<div class="contents-warpper">
<section class="main__sidebar">
<article class="popular">
<h3 class="popular__title">인기 아티스트</h3>
<ul class="popular__order">
<li class="list">
<span class="list__index blue">1</span> 아이유 (IU)
          </li>
<li class="list">
<span class="list__index blue">2</span> 방탄소년단
          </li>
<li class="list">
<span class="list__index blue">3</span> Red Velvet (레드벨벳)
          </li>
<li class="list">
<span class="list__index">4</span> IKON
          </li>
<li class="list">
<span class="list__index">5</span> 멜로망스
          </li>
<li class="list">
<span class="list__index">6</span> 다비치
          </li>
<li class="list">
<span class="list__index">7</span> 윤딴딴
          </li>
<li class="list">
<span class="list__index">8</span> 수지 (SUZY)
          </li>
<li class="list">
<span class="list__index">9</span> 김동률
          </li>
<li class="list">
<span class="list__index">10</span> 폴킴
          </li>
</ul>
</article>
<article class="rank">
<h3 class="rank__title">검색어 순위</h3>
<ul class="rank__order">
<li class="list">
<span class="list__index blue">1</span> <b class="list__rating"><i class="dash"></i>0</b> Queen
          </li>
<li class="list">
<span class="list__index blue">2</span> <b class="list__rating"><i class="dash"></i>0</b> 방탄소년단
          </li>
<li class="list">
<span class="list__index blue">3</span> <b class="list__rating"><i class="dash"></i>0</b> 아이유
          </li>
<li class="list">
<span class="list__index">4</span> <b class="list__rating"><img alt="up" class="und" src="/images/music/up.png"/>7</b> 거미
          </li>
<li class="list">
<span class="list__index">5</span> <b class="list__rating"><img alt="down" class="und" src="/images/music/down.png"/>1</b> 폴킴
          </li>
<li class="list">
<span class="list__index">6</span> <b class="list__rating"><img alt="up" class="und" src="/images/music/up.png"/>1</b> 김범수
          </li>
<li class="list">
<span class="list__index">7</span> <b class="list__rating"><img alt="up" class="und" src="/images/music/up.png"/>6</b> 헤이즈
          </li>
<li class="list">
<span class="list__index">8</span> <b class="list__rating"><img alt="down" class="und" src="/images/music/down.png"/>2</b> 트와이스
          </li>
<li class="list">
<span class="list__index">9</span> <b class="list__rating"><img alt="up" class="und" src="/images/music/up.png"/>7</b> 박효신
          </li>
<li class="list">
<span class="list__index">10</span> <b class="list__rating"><i class="dash"></i>0</b> 신용재
          </li>
</ul>
</article>
</section>
<section class="main__listWrapper" id="list-container">
<article class="playlist" v-bind:key="index" v-for="(item, index) in playlist">
<h5 class="playlist__theme">{{item.category}}</h5>
<img :src="item.imageUrl" alt="background" class="playlist__img"/>
<div class="playlist__meta">
<img :src="item.authorProfileImageUrl" alt="owner" class="owner"/>
<h3 class="title">{{item.title}}</h3>
<p class="tags">
<a class="tag" href="#" v-bind:key="index" v-for="(tag, index) in item.tags">#{{tag}} </a>
</p>
<div class="data">
<img alt="like" class="data__like-img" src="/images/music/like.png"/>
<span class="data__like-count">{{item.likeCount}}</span>
<img alt="music" class="data__music-img" src="/images/music/music.png"/>
<span class="data__music-count">{{item.trackCount}}</span>
</div>
</div>
</article>
</section>
</div>
</div>
<script src="/js/music.js"></script>
</body>
</html>
```

## HTML 코드 분석하기

HTML 코드에서 검색어 순위를 추출하기 위해, 검색어 순위를 선택할 수 있는 CSS 선택자를 알아내야 합니다.

음악 사이트의 페이지 구조를 개발자 도구로 살펴봅시다. ('검색어 순위'라는 텍스트 위에서 오른쪽 클릭을 하고, 'Inspect' 혹은 '검사'를 누르면 자동으로 '검색어 순위'에 대한 요소를 찾아줍니다.)

1위부터 10위까지의 검색어 순위는 `rank__order` 클래스를 갖고 있는 ``태그에 포함되어 있습니다.

그리고 이 `` 태그 아래에는 총 10개의 `` 태그가 있는데, 각 `` 태그의 텍스트가 1위부터 10위까지의 검색어 순위이죠.

따라서 우리가 원하는 요소는 "`` 클래스를 갖고 있는 ``태그 아래의 모든 `` 태그" 입니다.
CSS 선택자로 표현하면 `'.rank__order li'`입니다.

## 파싱하기

이 요소를 받아와 봅시다.

```python
# "rank__order" 클래스에 중첩된 <li> 태그 선택
li_tags = soup.select('.rank__order li')
```

그리고 텍스트를 추출하기 위해, `for` 반복문으로 `.text`를 적용해 줍니다.

```python
# "rank__order" 클래스에 중첩된 <li> 태그 선택
li_tags = soup.select('.rank__order li')

# 빈 리스트 생성
search_ranks = []

# 텍스트 추출해서 리스트에 담기
for li in li_tags:
    search_ranks.append(li.text)

# 결과 출력
print(search_ranks)
['\n1 0 Queen\n          ', '\n2 0 방탄소년단\n          ', '\n3 0 아이유\n          ', '\n4 7 거미\n          ', '\n5 1 폴킴\n          ', '\n6 1 김범수\n          ', '\n7 6 헤이즈\n          ', '\n8 2 트와이스\n          ', '\n9 7 박효신\n          ', '\n10 0 신용재\n          ']
```

엔터를 의미하는 `\n` 등 여러 공백 문자들이 지저분하게 텍스트 앞뒤에 포함되어 있네요.

`strip` 메소드를 사용하면 텍스트의 앞뒤 공백 문자를 제거할 수 있습니다.

```python
# "rank__order" 클래스에 중첩된 <li> 태그 선택
li_tags = soup.select('.rank__order li')

# 빈 리스트 생성
search_ranks = []

# 텍스트 추출해서 리스트에 담기
for li in li_tags:
    search_ranks.append(li.text.strip())

# 결과 출력
print(search_ranks)
['1 0 Queen', '2 0 방탄소년단', '3 0 아이유', '4 7 거미', '5 1 폴킴', '6 1 김범수', '7 6 헤이즈', '8 2 트와이스', '9 7 박효신', '10 0 신용재']
```

이제 불필요한 공백 문자는 사라졌습니다.
텍스트를 보면, 1위를 의미하는 숫자 `1`과 순위 변동을 의미하는 `0`이 나오고, 그 다음에야 우리가 원하는 검색어가 있습니다.

이 결과에서 우리가 원하는 검색어만 뽑아내려면 어떻게 해야할까요?

`split` 메소드를 사용하면 특정 문자를 기준으로 문자열을 분리할 수 있습니다.
공백(' ')을 기준으로 문자열을 분리한 뒤, 세 번째 값을 가져오면 되겠네요.

```python
# "rank__order" 클래스에 중첩된 <li> 태그 선택
li_tags = soup.select('.rank__order li')

# 빈 리스트 생성
search_ranks = []

# 텍스트 추출해서 리스트에 담기
for li in li_tags:
    search_ranks.append(li.text.strip().split(' ')[2])

# 결과 출력
print(search_ranks)
['Queen', '방탄소년단', '아이유', '거미', '폴킴', '김범수', '헤이즈', '트와이스', '박효신', '신용재']
```

이제 우리가 원하는 검색어만 깔끔하게 얻었습니다.

전체 코드는 다음과 같습니다.

```python
import requests
from bs4 import BeautifulSoup

# HTML 코드 받아오기
response = requests.get("https://workey.codeit.kr/music/index")

# BeautifulSoup 타입으로 변환
soup = BeautifulSoup(response.text, 'html.parser')

# "rank__order" 클래스에 중첩된 <li> 태그 선택
li_tags = soup.select('.rank__order li')

# 빈 리스트 생성
search_ranks = []

# 텍스트 추출해서 리스트에 담기
for li in li_tags:
    search_ranks.append(li.text.strip().split(' ')[2])

# 결과 출력
print(search_ranks)
```



### (11) 필요한 페이지만 가져오기

## 더 좋은 코드

앞선 과제 [TV 시청률 크롤링 pt. 2](https://business.codeit.kr/assignments/1413)를 돌이켜 봅시다.
우리는 모든 달에 5주차가 있다고 가정하고, 반복문을 작성했습니다.

하지만 사실 5주차가 없는 달도 있죠.
5주차가 없는 달은 아예 페이지를 안 받아오는게 더 바람직합니다.

이런 상황은 생각보다 많이 발생하는데요.

[이케아](https://www.ikea.com/kr/ko/)에서 'desk'를 검색하면, 총 몇 개의 검색 결과 페이지가 있을까요?
예상할 수 없습니다. 심지어 날마다 달라질 수도 있죠.

좀 더 스마트하게 해결해 봅시다. 우리는 파싱을 활용할 겁니다.
두 가지 방법을 살펴봅시다.

## 방법 1: 파싱으로 페이지 개수 알아내기

[이케아](https://www.ikea.com/kr/ko/) 검색창에 'desk'라고 입력해 봅시다. 그럼 페이지 주소가 `https://www.ikea.com/kr/ko/search/?query=desk` 으로 저절로 바뀌죠?

이 페이지를 잘 살펴보면, 총 몇 개의 검색 결과 페이지가 있는지 알 수 있습니다.
다음 페이지로 이동하는 버튼을 보세요. 마지막에 최종 페이지의 숫자가 적혀 있습니다.

개발자 도구를 통해 살펴보면, 페이지 넘버 버튼이 모두 `pagination`이라는 클래스의 ``태그 아래에 있네요.
이 값만 출력해 봅시다.

```python
import requests
from bs4 import BeautifulSoup

# HTML 코드 받아오기
response = requests.get("https://www.ikea.com/kr/ko/search/?query=desk")

# BeautifulSoup 타입으로 변환
soup = BeautifulSoup(response.text, 'html.parser')

# 결과 출력
print(soup.select('.pagination'))
[<div class="pagination">
<a class="active" href="#" onclick="return false;">1</a>
<a href="/kr/ko/search/?query=desk&amp;pageNumber=2">2</a>
<a href="/kr/ko/search/?query=desk&amp;pageNumber=3">3</a>
<a href="/kr/ko/search/?query=desk&amp;pageNumber=4">4</a>
<a href="/kr/ko/search/?query=desk&amp;pageNumber=5">5</a>
                        
                    ... <a href="/kr/ko/search/?query=desk&amp;pageNumber=12">12</a>
</div>, <div class="pagination">
<a class="active" href="#" onclick="return false;">1</a>
<a href="/kr/ko/search/?query=desk&amp;pageNumber=2">2</a>
<a href="/kr/ko/search/?query=desk&amp;pageNumber=3">3</a>
<a href="/kr/ko/search/?query=desk&amp;pageNumber=4">4</a>
<a href="/kr/ko/search/?query=desk&amp;pageNumber=5">5</a>
                        
                    ... <a href="/kr/ko/search/?query=desk&amp;pageNumber=12">12</a>
</div>]
```

결과를 보니 `pagination` 클래스를 갖는 `` 태그 안에 `` 태그들이 있고, 가장 마지막 `` 태그에는 마지막 페이지 번호가 들어 있습니다.

```html
<a href="/kr/ko/search/?query=desk&amp;pageNumber=12">12</a>
```

여기서 총 12개의 페이지가 있다는 걸 알아챌 수 있습니다.

마지막 `` 태그의 텍스트를 가져오면 페이지 개수를 알아낼 수 있겠네요.
코드로 가져와 봅시다.

```python
import requests
from bs4 import BeautifulSoup

# HTML 코드 받아오기
response = requests.get("https://www.ikea.com/kr/ko/search/?query=desk")

# BeautifulSoup 타입으로 변환
soup = BeautifulSoup(response.text, 'html.parser')

# 마지막 <a> 태그의 텍스트 추출하기
page_length = soup.select('.pagination a')[-1].text

# 결과 출력
print(page_length)
12
```

이 값을 이용해서 `for` 반복문을 실행하면, 실제 페이지 개수만큼만 HTML 코드를 받아올 수 있습니다.
전체 코드를 정리해 봅시다.

```python
import requests
from bs4 import BeautifulSoup

# HTML 코드 받아오기
response = requests.get("https://www.ikea.com/kr/ko/search/?query=desk")

# BeautifulSoup 타입으로 변환
soup = BeautifulSoup(response.text, 'html.parser')

# 마지막 <a> 태그의 텍스트 추출하기
page_length = soup.select('.pagination a')[-1].text

# 빈 리스트 생성하기
pages = []

# 실제 페이지 개수만큼만 HTML 코드 받아오기
for i in range(1, int(page_length) + 1):
    response = requests.get("https://www.ikea.com/kr/ko/search/?query=desk&pageNumber=" + str(i))
    pages.append(response.text)

# 받아온 HTML 코드 개수 출력
print(len(pages))
12
```

페이지를 원하는 만큼만 가져왔습니다!

## 방법 2: 일단 가져와서 확인해 보기

만약 전체 페이지 개수가 사이트에 드러나지 않는다면 어떻게 해야 할까요?
일단은 페이지를 가져오고, 데이터가 비어 있는지 확인하는 방법도 있습니다.

`desk` 검색 결과에 `833` 페이지도 있을까요? 주소에 쿼리를 입력해서 확인해 봅시다.
https://www.ikea.com/kr/ko/search/?query=desk&pageNumber=833로 들어가면 아예 상품이 나오지 않네요.

페이지를 계속 가져오다가, 빈 페이지를 만나면 중단하면 됩니다.

내용이 비었는지는 어떻게 확인할까요?
두 페이지를 개발자 도구로 한번 비교해 보세요.
내용이 있는 페이지: https://www.ikea.com/kr/ko/search/?query=desk&pageNumber=1
내용이 없는 페이지: https://www.ikea.com/kr/ko/search/?query=desk&pageNumber=833

빈 페이지인지 확인하는 방법은 여러 가지이겠지만, 우리는 제품의 이름인 `prodName` 클래스의 유무로 한번 확인해 봅시다.
`prodName` 클래스가 있을 때만 페이지를 저장하는 겁니다.

```python
import requests
from bs4 import BeautifulSoup

# 빈 리스트 생성
pages = []

# 첫 페이지 번호 지정
page_num = 1

while True:
    # HTML 코드 받아오기
    response = requests.get("https://www.ikea.com/kr/ko/search/?query=desk&pageNumber=" + str(page_num))

    # BeautifulSoup 타입으로 변환하기
    soup = BeautifulSoup(response.text, 'html.parser')

    # ".prodName" 클래스가 있을 때만 HTML 코드를 리스트에 담기
    if len(soup.select('.prodName')) > 0:
        pages.append(soup)
        page_num += 1
    else:
        break

# 가져온 페이지 개수 출력하기
print(len(pages))
12
```



### (12) TV 시청률 크롤링 3

[티비랭킹닷컴](https://workey.codeit.kr/ratings/index) 사이트를 다시 크롤링해보려 합니다.

앞선 과제 [TV 시청률 크롤링 pt. 2](https://business.codeit.kr/assignments/1413)에서는 모든 달에 5주차가 있다고 가정하여 받아왔습니다.

이번에는 파싱을 활용해서 실제로 데이터가 있는 페이지만 받아오려고 하는데요.

2010년 1월부터 2018년 12월까지 모든 달에 대해, **데이터가 있는** 모든 페이지의 HTML 코드(`response`의 `text`)를 `rating_pages`에 저장해 보세요.

주의: `BeautifulSoup` 타입으로 변환한 코드가 아닌, `response`의 `text`를 리스트에 저장하세요!



> 정답 Code

```python
import requests
from bs4 import BeautifulSoup

# 코드를 작성하세요.
import requests
from bs4 import BeautifulSoup

# 코드를 작성하세요.
rating_pages = []
for y in range(2010,2019):
    for m in range(1,13):
        for w in range(0,5):
            response = requests.get('https://workey.codeit.kr/ratings/index?year={}&month={}&weekIndex={}'.format(y,m,w))
			soup = BeautifulSoup(response.text,'html.parser')
            
            if len(soup.select('.row'))>1:
                rating_pages.append(response.text)

# 테스트 코드
print(len(rating_pages)) # 가져온 총 페이지 수 
print(rating_pages[0]) # 첫 번째 페이지의 HTML 코드
```



> 해설

이전 과제 [TV 시청률 크롤링 pt. 2](https://www.codeit.kr/assignments/1413)의 코드에서, 페이지 내용이 있는지 확인하는 코드를 추가하면 됩니다.

먼저, 데이터가 있는 웹 페이지와 데이터가 없는 웹 페이지를 비교해 봅시다.
데이터가 없는 웹 페이지를 보려면, [2017년 1월 7주차](https://workey.codeit.kr/ratings/index?year=2017&month=1&weekIndex=7)와 같이 잘못된 쿼리를 주소에 입력해 보면 됩니다.

[2017년 1월 1주차](https://workey.codeit.kr/ratings/index?year=2017&month=1&weekIndex=1)와 같이 정상적인 주소의 경우, 데이터가 `row` 클래스를 가진 태그에 담겨 있습니다.

![img](https://i.imgur.com/8Qgnfkp.png)

반면, 데이터가 없는 [2017년 1월 7주차](https://workey.codeit.kr/ratings/index?year=2017&month=1&weekIndex=7)에는 제목을 담고 있는 `row` 클래스 하나밖에 없네요.

![img](https://i.imgur.com/yo5a57u.png)

따라서 `row` 클래스의 개수가 1개를 넘는 경우만 페이지를 리스트에 추가하면 됩니다.

```python
import requests
from bs4 import BeautifulSoup

# 기간 지정
years = list(range(2010, 2019))
months = list(range(1, 13))
weeks = list(range(0, 5))

# 빈 리스트 생성
rating_pages = []

for year in years:
    for month in months:
        for week in weeks:
            # HTML 코드 받아오기
            response = requests.get("https://workey.codeit.kr/ratings/index?year=" + str(year) + "&month=" + str(month) + "&weekIndex=" + str(week))

            # BeautifulSoup 타입으로 변환하기
            soup = BeautifulSoup(response.text, 'html.parser')

            # "row" 클래스가 1개를 넘는 경우만 페이지를 리스트에 추가
            if len(soup.select('.row')) > 1:
                rating_pages.append(response.text)

# 테스트 코드
print(len(rating_pages)) # 가져온 총 페이지 수 
print(rating_pages[0]) # 첫 번째 페이지의 HTML 코드
468
<!DOCTYPE html>
<html lang="ko">
<head>
  <title>티비랭킹닷컴</title>
  <meta charset="utf-8">
  <link href="https://fonts.googleapis.com/css?family=Noto+Sans+KR" rel="stylesheet">
  <style>
    /* body start */
    body {
      font-family: 'Noto Sans KR', sans-serif;
      margin: 0;
    }

    /* navigation bar start */
    .nav-bar {
      position: fixed;
      width: 100%;
      padding-top: 10px;
      padding-bottom: 10px;
      background-color: #ffffff;
      box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.14);
      z-index: 1;
    }

    .nav-bar #tv-image {
      margin-left: 78px;
      margin-right: 15px;
      height: 36px;
      vertical-align: middle;
    }

    .nav-bar span {
      font-weight: bold;
      color: #4a4a4a;
    }

    /* date picker start */
    .date-pick {
      padding-top: 56px;
      height: 200px;
      background-color: #efefef;
      margin-left: auto;
      margin-right: auto;
      position: relative;
    }

    .date-pick .search-box {
      text-align: center;
      position: absolute;
      display: block;
      left: 50%;
      transform: translateX(-50%);
    }

    .date-pick .search-box p {
      text-align: left;
    }

    .date-pick .search-box select {
      padding: 4px;
    }

    .date-pick .search-box .search-btn {
      display: inline-block;
      margin-left: 20px;
      padding: 3px 28px 4px 28px;
      border-radius: 4px;
      background-color: #00a9dc;
      font-weight: 300;
      font-size: 13.333px;
      height: 27px;
      box-sizing: border-box;
      color: #ffffff;
    }

    /* main body start */

    .container {
      margin-left: auto;
      margin-right: auto;
    }

    .row.top-table {
      background-color: #00a9dc;
      color: #ffffff;
      padding-top: 20px;
      padding-bottom: 20px;
    }

    table {
      border-collapse: collapse;
      border-spacing: 2px;
      font-size: 16px;
    }

    td, th {
      display: table-cell;
      color: #4a4a4a;
    }

    .row .rank {
      padding-left: 25px;
    }

    .row .channel {
      padding-left: 58px;
    }

    .row .program {
      padding-left: 41px;
    }

    .row .percent {
      color: #00a9dc;
      padding-left: 100px;
    }

    .top-table.row * {
      color: #ffffff;
      font-weight: 300;
    }

    .top-table.row .rank {
      padding-left: 17px;
      padding-right: 17px;
    }

    .top-table.row .channel {
      padding-right: 58px;
    }

    .top-table.row .program {
      padding-right: 41px;
    }

    .top-table.row .percent {
      padding-right: 28px;
    }

    .header-row {
      min-width: 391px;
      display: inline-block;
      text-align: center;
    }
  </style>
</head>
<body>
<script src="https://code.jquery.com/jquery-3.2.1.min.js"
        integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
        crossorigin="anonymous">
</script>

<!-- NAVIGATION BAR -->
<div class="nav-bar">
  <img src="/images/nielsen/group.png" id='tv-image'>
  <span>TV Ranking.com</span>
</div>
<!-- DATE PICKER -->
<div class='date-pick'>
  <div style="height:55px;"></div>
  <div class='search-box'>
    <p style="font-size: 16px;color:#4a4a4a;margin-bottom: 4px;">날짜 검색</p>
    <section class="header-row">
      <select name="year" style="padding-right: 32px" class="getYear">
        <option selected="selected">2010</option>
        <option>2011</option>
        <option>2012</option>
        <option>2013</option>
        <option>2014</option>
        <option>2015</option>
        <option>2016</option>
        <option>2017</option>
        <option>2018</option>
      </select>
      <select class="getMonth" name="month" style="padding-right: 32px">
        <option selected="selected">1</option>
        <option>2</option>
        <option>3</option>
        <option>4</option>
        <option>5</option>
        <option>6</option>
        <option>7</option>
        <option>8</option>
        <option>9</option>
        <option>10</option>
        <option>11</option>
        <option>12</option>
      </select>
      <select id="weekSelectBox">
        <option value="0" selected="selected">2009.12.28 ~ 2010.01.03</option>
        <option value="1">2010.01.04 ~ 2010.01.10</option>
        <option value="2">2010.01.11 ~ 2010.01.17</option>
        <option value="3">2010.01.18 ~ 2010.01.24</option>
        <option value="4">2010.01.25 ~ 2010.01.31</option>
      </select>
      <div class="search-btn">
        search
      </div>
    </section>
  </div>
</div>

<!-- MAIN BODY -->
<div class="container">
  <div class="box">
    <p style="font-size:18px;color:#4a4a4a;text-align: center;margin-top:60px; margin-bottom:15px;">가구시청률 TOP 10</p>
    <p style="font-size:14px;color:#9b9b9b;text-align: center;margin-bottom:25px">(분석기준: National, 유료플랫폼 가입 기구,
      단위:%)</p>
    <table style="margin-left: auto;margin-right: auto;" cellpadding="7">
      <tr height="64" class="top-table row">
        <th class="rank">순위</th>
        <th class="channel">채널</th>
        <th class="program">프로그램</th>
        <th class="percent">시청률</th>
      </tr>
      <tr class="row">
        <td class="rank">1</td>
        <td class="channel">KBS2</td>
        <td class="program">주말연속극(수상한삼형제)</td>
        <td class="percent">33.4</td>
      </tr>
      <tr class="row">
        <td class="rank">2</td>
        <td class="channel">KBS1</td>
        <td class="program">일일연속극(다함께차차차)</td>
        <td class="percent">33.1</td>
      </tr>
      <tr class="row">
        <td class="rank">3</td>
        <td class="channel">KBS2</td>
        <td class="program">해피선데이</td>
        <td class="percent">27.1</td>
      </tr>
      <tr class="row">
        <td class="rank">4</td>
        <td class="channel">MBC</td>
        <td class="program">MBC연기대상2부</td>
        <td class="percent">24.4</td>
      </tr>
      <tr class="row">
        <td class="rank">5</td>
        <td class="channel">SBS</td>
        <td class="program">주말극장(천만번사랑해)</td>
        <td class="percent">24.2</td>
      </tr>
      <tr class="row">
        <td class="rank">6</td>
        <td class="channel">MBC</td>
        <td class="program">MBC방송연예대상2부</td>
        <td class="percent">24.0</td>
      </tr>
      <tr class="row">
        <td class="rank">7</td>
        <td class="channel">MBC</td>
        <td class="program">MBC방송연예대상1부</td>
        <td class="percent">22.4</td>
      </tr>
      <tr class="row">
        <td class="rank">8</td>
        <td class="channel">SBS</td>
        <td class="program">SBS연예대상2부</td>
        <td class="percent">21.1</td>
      </tr>
      <tr class="row">
        <td class="rank">9</td>
        <td class="channel">MBC</td>
        <td class="program">주말기획드라마(보석비빔밥)</td>
        <td class="percent">20.9</td>
      </tr>
      <tr class="row">
        <td class="rank">10</td>
        <td class="channel">MBC</td>
        <td class="program">일일시트콤(지붕뚫고하이킥)</td>
        <td class="percent">19.9</td>
      </tr>
    </table>
  </div>
</div>
<script>
  $(".getMonth, .getYear").on("change", function () {
    window.location.assign("/ratings/index?year=" + $(".getYear").val() + "&month=" + $(".getMonth").val() + "&weekIndex=0");

  });
  $(".search-btn").on("click", function () {
    var index = $("#weekSelectBox").val();
    window.location.assign("/ratings/index?year=" + $(".getYear").val() + "&month=" + $(".getMonth").val() + "&weekIndex=" + index);
  });
</script>
</body>
</html>
```



### (13) 웹 페이지를 DataFrame으로!

데이터 가져오기의 마지막 단계에 도착했습니다.
우리가 원하는 데이터를 DataFrame으로 만들면 앞서 배웠던 시각화나 분석 등 다양하게 활용할 수 있겠죠?

[이케아](https://www.ikea.com/kr/ko/)의 검색 결과를 아래와 같은 DataFrame으로 만들어 봅시다.

![img](https://i.imgur.com/clYTU9j.png)

## DataFrame을 만드는 방법

어떻게 하면 DataFrame을 만들 수 있을까요?
DataFrame을 만드는 방법에는 여러 가지가 있고, 그중 하나는 리스트를 담은 리스트였습니다.
기억이 잘 안 나시는 분은 [이전 레슨](https://business.codeit.kr/assignments/998)을 참고해 보세요.

우리는 웹 페이지에서 상품의 정보를 파싱한 뒤, 리스트를 담은 리스트 형태로 저장할 겁니다.

## DataFrame 설계하기

먼저 하나의 레코드(row)에 대한 설계를 합니다.
column이 `"이름"`, `"가격"`, `"이미지 주소"` 총 세 개니까, 다음과 같은 형태로 만들면 되겠네요.

```python
["이름 1", "가격 1", "이미지 주소 1"]
```

그리고 이 레코드가 여러 개 모이면, DataFrame을 만들 수 있겠죠?
우리가 결국 원하는 형태는 이런 형태입니다.

```python
[["이름 1", "가격 1", "이미지 주소 1"], 
["이름 2", "가격 2", "이미지 주소 2"], 
["이름 3", "가격 3", "이미지 주소 3"]]
```

## 파싱하기

이제 방법을 알았으니, 데이터를 파싱해서 DataFrame으로 만들어 봅시다.

```python
import requests
from bs4 import BeautifulSoup

# 빈 리스트 생성
records = []

# 시작 페이지 지정
page_num = 1

while True:
    # HTML 코드 받아오기
    response = requests.get("https://www.ikea.com/kr/ko/search/?query=desk&pageNumber=" + str(page_num))

    # BeautifulSoup 타입으로 변형하기
    soup = BeautifulSoup(response.text, 'html.parser')

    # "prodName" 클래스가 있을 때만 상품 정보 가져오기
    if len(soup.select('.prodName')) > 0:
        product_names = soup.select('.prodName')
        product_prices = soup.select('.prodPrice')
        product_urls = soup.select('.prodImg')
        page_num += 1

        # 여기에 각 상품의 정보를 하나의 레코드로 저장하는 코드 추가

    else:
        break
```

페이지에 있는 모든 상품 이름은 `product_names`에, 상품 가격은 `product_prices`에, 이미지 링크는 `product_urls`에 저장했습니다.

이제 각 상품의 정보를 하나의 레코드로 만들고, 리스트에 순서대로 추가합니다.
(이미지 주소는 "https://www.ikea.com" 이후부터 나오기 때문에, "https://www.ikea.com"를 붙여 줍니다.)

```python
import requests
from bs4 import BeautifulSoup

# 빈 리스트 생성
records = []

# 시작 페이지 지정
page_num = 1

while True:
    # HTML 코드 받아오기
    response = requests.get("https://www.ikea.com/kr/ko/search/?query=desk&pageNumber=" + str(page_num))

    # BeautifulSoup 타입으로 변형하기
    soup = BeautifulSoup(response.text, 'html.parser')

    # "prodName" 클래스가 있을 때만 상품 정보 가져오기
    if len(soup.select('.prodName')) > 0:
        product_names = soup.select('.prodName')
        product_prices = soup.select('.prodPrice')
        product_urls = soup.select('.prodImg')
        page_num += 1
        
        # 상품의 정보를 하나의 레코드로 만들고, 리스트에 순서대로 추가하기
        index = 0
        for name in product_names:
            record = []
            record.append(product_names[index].text)
            record.append(product_prices[index].text.strip())
            record.append("https://www.ikea.com" + product_urls[index].get('src'))
            records.append(record)
            index += 1
    else:
        break

# 결과 출력
print(len(records))
print(records)
288
[['SKARSTA 스카르스타', '₩\xa0269,000 /개', 'https://www.ikea.com/PIAimages/0324865_PE518142_S2.JPG'], ['ARKELSTORP 아르켈스토르프', '₩\xa0249,000 /개', 'https://www.ikea.com/PIAimages/0260689_PE404570_S2.JPG'], ['VITTSJÖ 빗셰', '₩\xa039,900 /개', 'https://www.ikea.com/PIAimages/0135390_PE292080_S2.JPG'], ['LISABO 리사보', '₩\xa0199,000 /개', 'https://www.ikea.com/PIAimages/0324834_PE518134_S2.JPG'], ['SKARSTA 스카르스타', '₩\xa0239,000 /개', 'https://www.ikea.com/PIAimages/0324864_PE518141_S2.JPG'], ['FLISAT 플리사트', '₩\xa099,900 /개', 'https://www.ikea.com/PIAimages/0412670_PE570657_S2.JPG'], ['PÅHL 폴', '₩\xa089,900 /개', 'https://www.ikea.com/PIAimages/0385157_PE558638_S2.JPG'], ['VITTSJÖ 빗셰', '₩\xa029,900 /개', 'https://www.ikea.com/PIAimages/0324875_PE517662_S2.JPG'], ['INGATORP 잉아토르프', '₩\xa0149,000 /개', 'https://www.ikea.com/PIAimages/0532428_PE648068_S2.JPG'], ['MICKE 미케', '₩\xa0199,000 /개', 'https://www.ikea.com/PIAimages/0323027_PE516623_S2.JPG'], ['MICKE 미케', '₩\xa059,900 /개', 'https://www.ikea.com/PIAimages/0123484_PE279641_S2.JPG'], ['BRÄDA 브레다', '₩\xa04,900 /개', 'https://www.ikea.com/PIAimages/0094156_PE231892_S2.JPG'], ['FREDDE 프레데', '₩\xa0279,000 /개', 'https://www.ikea.com/PIAimages/0180198_PE332339_S2.JPG'], ['MICKE 미케', '₩\xa0149,900 /개', 'https://www.ikea.com/PIAimages/0448582_PE598249_S2.JPG'], ['BEKANT 베칸트', '₩\xa0299,000 /개', 'https://www.ikea.com/PIAimages/0687330_PE722048_S2.JPG'], ['MICKE 미케', '₩\xa099,900 /개', 'https://www.ikea.com/PIAimages/0378419_PE555720_S2.JPG'], ['MALM 말름', '₩\xa0149,000 /개', 'https://www.ikea.com/PIAimages/0148190_PE306481_S2.JPG'], ['BEKANT 베칸트', '₩\xa0159,000 /개', 'https://www.ikea.com/PIAimages/0250514_PE388782_S2.JPG'], ['LINNMON 린몬 /  ALEX 알렉스', '₩\xa0132,800 /개', 'https://www.ikea.com/PIAimages/0199907_PE358592_S2.JPG'], ['HEMNES 헴네스', '₩\xa0299,000 /개', 'https://www.ikea.com/PIAimages/0255080_PE399048_S2.JPG'], ['KULLABERG 쿨라베리', '₩\xa0199,000 /개', 'https://www.ikea.com/PIAimages/0428207_PE583401_S2.JPG'], ['IDÅSEN 이도센', '₩\xa0329,000 /개', 'https://www.ikea.com/PIAimages/0636426_PE697875_S2.JPG'], ['MALM 말름', '₩\xa0149,000 /개', 'https://www.ikea.com/PIAimages/0396758_PE564514_S2.JPG'], ['MICKE 미케', '₩\xa099,900 /개', 'https://www.ikea.com/PIAimages/0123483_PE279640_S2.JPG'], ['BEKANT 베칸트', '₩\xa0269,000 /개', 'https://www.ikea.com/PIAimages/0646737_PE704266_S2.JPG'], ['BEKANT 베칸트', '₩\xa0269,000 /개', 'https://www.ikea.com/PIAimages/0646630_PE704235_S2.JPG'], ['PÅHL 폴', '₩\xa0129,900 /개', 'https://www.ikea.com/PIAimages/0385222_PE558624_S2.JPG'], ['IDÅSEN 이도센', '₩\xa0349,000 /개', 'https://www.ikea.com/PIAimages/0636470_PE697889_S2.JPG'], ['BEKANT 베칸트', '₩\xa01,036,000 /개', 'https://www.ikea.com/PIAimages/0687340_PE722051_S2.JPG'], ['BEKANT 베칸트', '₩\xa0198,000 /개', 'https://www.ikea.com/PIAimages/0643416_PE701831_S2.JPG'], ['BEKANT 베칸트', '₩\xa0239,000 /개', 'https://www.ikea.com/PIAimages/0646487_PE704220_S2.JPG'], ['BEKANT 베칸트', '₩\xa0268,000 /개', 'https://www.ikea.com/PIAimages/0644271_PE702549_S2.JPG'], ['FJÄLLBO 피엘보', '₩\xa069,900 /개', 'https://www.ikea.com/PIAimages/0604904_PE681514_S2.JPG'], ['PÅHL 폴', '₩\xa099,900 /개', 'https://www.ikea.com/PIAimages/0385162_PE558634_S2.JPG'], ['PÅHL 폴', '₩\xa0119,900 /개', 'https://www.ikea.com/PIAimages/0385167_PE558650_S2.JPG'], ['BEKANT 베칸트', '₩\xa0429,000 /개', 'https://www.ikea.com/PIAimages/0612867_PE686066_S2.JPG'], ['KALLAX 칼락스', '₩\xa0181,800 /개', 'https://www.ikea.com/PIAimages/0307584_PE427688_S2.JPG'], ['PÅHL 폴', '₩\xa0129,900 /개', 'https://www.ikea.com/PIAimages/0385207_PE558629_S2.JPG'], ['LINNMON 린몬 /  ALEX 알렉스', '₩\xa0219,200 /개', 'https://www.ikea.com/PIAimages/0721959_PE733433_S2.JPG'], ['BEKANT 베칸트', '₩\xa0689,000 /개', 'https://www.ikea.com/PIAimages/0618263_PE688440_S2.JPG'], ['BEKANT 베칸트', '₩\xa0639,000 /개', 'https://www.ikea.com/PIAimages/0638635_PE699047_S2.JPG'], ['HEMNES 헴네스', '₩\xa0199,000 /개', 'https://www.ikea.com/PIAimages/0549928_PE657966_S2.JPG'], ['HILVER 힐베르', '₩\xa0199,000 /개', 'https://www.ikea.com/PIAimages/0307336_PE427543_S2.jpg'], ['LINNMON 린몬 /  LERBERG 레르베리', '₩\xa053,900 /개', 'https://www.ikea.com/PIAimages/0504114_PE633107_S2.JPG'], ['GERTON 예르톤', '₩\xa0129,000 /개', 'https://www.ikea.com/PIAimages/30753_PE119404_S2.jpg'], ['UPPLEVA 우플레바', '₩\xa079,900 /개', 'https://www.ikea.com/PIAimages/0626700_PE692950_S2.JPG'], ['LINNMON 린몬 /  ADILS 아딜스', '₩\xa030,000 /개', 'https://www.ikea.com/PIAimages/0189130_PE343590_S2.JPG'], ['RÅSKOG 로스코그', '₩\xa029,900 /개', 'https://www.ikea.com/PIAimages/0570942_PE666551_S2.JPG'], ['ADILS 아딜스', '₩\xa03,500 /개', 'https://www.ikea.com/PIAimages/0136757_PE294562_S2.JPG'], ['IDÅSEN 이도센', '₩\xa0149,000 /개', 'https://www.ikea.com/PIAimages/0613642_PE686434_S2.JPG'], ['ALEX 알렉스', '₩\xa0179,000 /개', 'https://www.ikea.com/PIAimages/0242202_PE381724_S2.JPG'], ['HEMNES 헴네스', '₩\xa0449,000 /개', 'https://www.ikea.com/PIAimages/0199570_PE356637_S2.JPG'], ['BRUSALI 브루살리', '₩\xa079,900 /개', 'https://www.ikea.com/PIAimages/0383193_PE557808_S2.JPG'], ['LINNMON 린몬 /  KRILLE 크릴레', '₩\xa0125,900 /개', 'https://www.ikea.com/PIAimages/0504945_PE633616_S2.JPG'], ['HEMNES 헴네스', '₩\xa0469,000 /개', 'https://www.ikea.com/PIAimages/0192092_PE345821_S2.JPG'], ['PÅHL 폴', '₩\xa0119,900 /개', 'https://www.ikea.com/PIAimages/0385190_PE558630_S2.JPG'], ['BEKANT 베칸트', '₩\xa0110,000 /개', 'https://www.ikea.com/PIAimages/0251528_PE390114_S2.JPG'], ['SVALNÄS 스발네스', '₩\xa0135,000 /개', 'https://www.ikea.com/PIAimages/0486286_PE621994_S2.JPG'], ['BRUSALI 브루살리', '₩\xa099,900 /개', 'https://www.ikea.com/PIAimages/0383182_PE557810_S2.JPG'], ['BEKANT 베칸트', '₩\xa0198,000 /개', 'https://www.ikea.com/PIAimages/0643462_PE701894_S2.JPG'], ['LILLÅSEN 릴로센', '₩\xa0199,000 /개', 'https://www.ikea.com/PIAimages/0365208_PE548244_S2.JPG'], ['PÅHL 폴', '₩\xa030,000 /개', 'https://www.ikea.com/PIAimages/0384923_PE558645_S2.JPG'], ['BEKANT 베칸트', '₩\xa0719,000 /개', 'https://www.ikea.com/PIAimages/0687270_PE722015_S2.JPG'], ['SVALNÄS 스발네스', '₩\xa0405,000 /개', 'https://www.ikea.com/PIAimages/0486301_PE622009_S2.JPG'], ['HEMNES 헴네스', '₩\xa0299,000 /개', 'https://www.ikea.com/PIAimages/0177411_PE330329_S2.JPG'], ['ISBERGET 이스베리에트', '₩\xa02,500 /개', 'https://www.ikea.com/PIAimages/0328926_PE519790_S2.JPG'], ['IDÅSEN 이도센', '₩\xa0779,000 /개', 'https://www.ikea.com/PIAimages/0636144_PE697665_S2.JPG'], ['KLIMPEN 클림펜', '₩\xa0329,000 /개', 'https://www.ikea.com/PIAimages/0504024_PE633011_S2.JPG'], ['ALEX 알렉스', '₩\xa050,000 /개', 'https://www.ikea.com/PIAimages/0242197_PE381723_S2.JPG'], ['IDÅSEN 이도센', '₩\xa0799,000 /개', 'https://www.ikea.com/PIAimages/0636175_PE697696_S2.JPG'], ['IKEA PS 2014', '₩\xa0299,000 /개', 'https://www.ikea.com/PIAimages/0248328_PE386751_S2.JPG'], ['BEKANT 베칸트', '₩\xa0657,000 /개', 'https://www.ikea.com/PIAimages/0250464_PE388824_S2.JPG'], ['BEKANT 베칸트', '₩\xa0189,000 /개', 'https://www.ikea.com/PIAimages/0687368_PE722063_S2.JPG'], ['BEKANT 베칸트', '₩\xa0258,000 /개', 'https://www.ikea.com/PIAimages/0644212_PE702490_S2.JPG'], ['THYGE 튀게', '₩\xa0104,000 /개', 'https://www.ikea.com/PIAimages/0351207_PE538418_S2.JPG'], ['PÅHL 폴', '₩\xa030,000 /개', 'https://www.ikea.com/PIAimages/0623689_PE691296_S2.JPG'], ['BEKANT 베칸트', '₩\xa0559,000 /개', 'https://www.ikea.com/PIAimages/0618224_PE688408_S2.JPG'], ['HEMNES 헴네스', '₩\xa01,117,000 /개', 'https://www.ikea.com/PIAimages/0547357_PE656557_S2.JPG'], ['BEKANT 베칸트', '₩\xa0520,000 /개', 'https://www.ikea.com/PIAimages/0251757_PE390422_S2.JPG'], ['KNOTTEN 크노텐', '₩\xa0199,000 /개', 'https://www.ikea.com/PIAimages/0406247_PE592160_S2.JPG'], ['BESTÅ BURS 베스토 부르스', '₩\xa0279,000 /개', 'https://www.ikea.com/PIAimages/0284009_PE421483_S2.JPG'], ['HEMNES 헴네스', '₩\xa0718,000 /개', 'https://www.ikea.com/PIAimages/0644188_PE702467_S2.JPG'], ['SVALNÄS 스발네스', '₩\xa0365,000 /개', 'https://www.ikea.com/PIAimages/0486296_PE622004_S2.JPG'], ['MICKE 미케', '₩\xa050,000 /개', 'https://www.ikea.com/PIAimages/0104221_PE251172_S2.JPG'], ['BYLLAN 뷜란', '₩\xa019,900 /개', 'https://www.ikea.com/PIAimages/0564672_PE664171_S2.JPG'], ['BEKANT 베칸트', '₩\xa0199,000 /개', 'https://www.ikea.com/PIAimages/0307727_PE427771_S2.JPG'], ['KALLAX 칼락스', '₩\xa0272,800 /개', 'https://www.ikea.com/PIAimages/0366709_PE549110_S2.JPG'], ['BEKANT 베칸트', '₩\xa0278,000 /개', 'https://www.ikea.com/PIAimages/0644320_PE702593_S2.JPG'], ['HILVER 힐베르 /  GERTON 예르톤', '₩\xa0239,000 /개', 'https://www.ikea.com/PIAimages/0307337_PE427572_S2.jpg'], ['IDÅSEN 이도센', '₩\xa0230,000 /개', 'https://www.ikea.com/PIAimages/0612689_PE690525_S2.JPG'], ['HEMNES 헴네스', '₩\xa0170,000 /개', 'https://www.ikea.com/PIAimages/0623694_PE691302_S2.JPG'], ['HEMNES 헴네스', '₩\xa0150,000 /개', 'https://www.ikea.com/PIAimages/0623687_PE691293_S2.JPG'], ['BEKANT 베칸트', '₩\xa0100,000 /개', 'https://www.ikea.com/PIAimages/0250090_PE388358_S2.JPG'], ['BEKANT 베칸트', '₩\xa079,000 /개', 'https://www.ikea.com/PIAimages/0250064_PE388386_S2.JPG'], ['BRÄDA 브레다', '₩\xa014,900 /개', 'https://www.ikea.com/PIAimages/0542357_PE654011_S2.JPG'], ['VITTSJÖ 빗셰', '₩\xa0139,800 /개', 'https://www.ikea.com/PIAimages/0141583_PE301501_S2.JPG'], ['GALANT 갈란트', '₩\xa090,000 /개', 'https://www.ikea.com/PIAimages/0644323_PE702595_S2.JPG'], ['STUVA 스투바', '₩\xa0149,000 /개', 'https://www.ikea.com/PIAimages/0627300_PE693284_S2.JPG'], ['IDÅSEN 이도센', '₩\xa0119,000 /개', 'https://www.ikea.com/PIAimages/0612653_PE690522_S2.JPG'], ['SVALNÄS 스발네스', '₩\xa090,000 /개', 'https://www.ikea.com/PIAimages/0640701_PE700001_S2.JPG'], ['SVALNÄS 스발네스', '₩\xa0260,000 /개', 'https://www.ikea.com/PIAimages/0652724_PE707630_S2.JPG'], ['BEKANT 베칸트', '₩\xa099,000 /개', 'https://www.ikea.com/PIAimages/0611994_PE685584_S2.JPG'], ['BEKANT 베칸트', '₩\xa0590,000 /개', 'https://www.ikea.com/PIAimages/0251557_PE390128_S2.JPG'], ['BEKANT 베칸트', '₩\xa090,000 /개', 'https://www.ikea.com/PIAimages/0250074_PE388391_S2.JPG'], ['SUMMERA 숨메라', '₩\xa014,900 /16\xa0개', 'https://www.ikea.com/PIAimages/0709879_PE727143_S2.JPG'], ['INGATORP 잉아토르프', '₩\xa030,000 /개', 'https://www.ikea.com/PIAimages/0532430_PE648070_S2.JPG'], ['BEKANT 베칸트', '₩\xa0438,000 /개', 'https://www.ikea.com/PIAimages/0649353_PE705420_S2.JPG'], ['BEKANT 베칸트', '₩\xa069,000 /개', 'https://www.ikea.com/PIAimages/0247308_PE386112_S2.JPG'], ['BEKANT 베칸트', '₩\xa0140,000 /개', 'https://www.ikea.com/PIAimages/0250070_PE388389_S2.JPG'], ['BEKANT 베칸트', '₩\xa0119,000 /개', 'https://www.ikea.com/PIAimages/0247295_PE386107_S2.JPG'], ['MÖJLIGHET 뫼일릭헤트', '₩\xa02,900 /개', 'https://www.ikea.com/PIAimages/0634709_PE696689_S2.JPG'], ['BEKANT 베칸트', '₩\xa019,000 /4\xa0개', 'https://www.ikea.com/PIAimages/0612702_PE686051_S2.JPG'], ['BEKANT 베칸트', '₩\xa0140,000 /개', 'https://www.ikea.com/PIAimages/0383651_PE558663_S2.JPG'], ['BEKANT 베칸트', '₩\xa0159,000 /개', 'https://www.ikea.com/PIAimages/0611928_PE685578_S2.JPG'], ['SVALNÄS 스발네스', '₩\xa0590,000 /개', 'https://www.ikea.com/PIAimages/0486314_PE622019_S2.JPG'], ['VITTSJÖ 빗셰', '₩\xa0159,700 /개', 'https://www.ikea.com/PIAimages/0141586_PE301504_S2.JPG'], ['BEKANT 베칸트', '₩\xa069,000 /개', 'https://www.ikea.com/PIAimages/0250062_PE388385_S2.JPG'], ['SVALNÄS 스발네스', '₩\xa0210,000 /개', 'https://www.ikea.com/PIAimages/0486294_PE622003_S2.JPG'], ['BEKANT 베칸트', '₩\xa0490,000 /개', 'https://www.ikea.com/PIAimages/0251751_PE390421_S2.JPG'], ['BEKANT 베칸트', '₩\xa0248,000 /개', 'https://www.ikea.com/PIAimages/0644249_PE702502_S2.JPG'], ['BEKANT 베칸트', '₩\xa0129,000 /개', 'https://www.ikea.com/PIAimages/0607268_PE682850_S2.JPG'], ['BEKANT 베칸트', '₩\xa0130,000 /개', 'https://www.ikea.com/PIAimages/0248440_PE386919_S2.JPG'], ['ÅMLIDEN 옴리덴 /  TORSKLINT 토르스클린트', '₩\xa0219,000 /개', 'https://www.ikea.com/PIAimages/0531286_PE647237_S2.JPG'], ['GALANT 갈란트', '₩\xa0150,000 /개', 'https://www.ikea.com/PIAimages/0132655_PE287517_S2.JPG'], ['IDÅSEN 이도센', '₩\xa099,000 /개', 'https://www.ikea.com/PIAimages/0612651_PE690518_S2.JPG'], ['BEKANT 베칸트', '₩\xa090,000 /개', 'https://www.ikea.com/PIAimages/0250083_PE388397_S2.JPG'], ['VIMUND 비문드', '₩\xa09,900 /개', 'https://www.ikea.com/PIAimages/0596142_PE676449_S2.JPG'], ['BEKANT 베칸트', '₩\xa09,000 /4\xa0개', 'https://www.ikea.com/PIAimages/0612707_PE686054_S2.JPG'], ['SVALNÄS 스발네스', '₩\xa0220,000 /개', 'https://www.ikea.com/PIAimages/0625897_PE692507_S2.JPG'], ['BRIMNES 브림네스', '₩\xa080,000 /개', 'https://www.ikea.com/PIAimages/0627086_PE693167_S2.JPG'], ['RÅSKOG 로스코그', '₩\xa029,900 /개', 'https://www.ikea.com/PIAimages/0439240_PE591989_S2.JPG'], ['BRIMNES 브림네스', '₩\xa080,000 /개', 'https://www.ikea.com/PIAimages/0627087_PE693166_S2.JPG'], ['UPPLEVA 우플레바', '₩\xa06,900 /0.75\xa0m', 'https://www.ikea.com/PIAimages/0141195_PE301142_S2.JPG'], ['ALEX 알렉스', '₩\xa079,900 /개', 'https://www.ikea.com/PIAimages/0087723_PE217289_S2.JPG'], ['STUVA 스투바 /  FRITIDS 프리티스', '₩\xa0229,000 /개', 'https://www.ikea.com/PIAimages/0587919_PE672830_S2.JPG'], ['NORDLI 노르들리', '₩\xa099,900 /개', 'https://www.ikea.com/PIAimages/0624426_PE691833_S2.JPG'], ['OLOV 올로브', '₩\xa015,000 /개', 'https://www.ikea.com/PIAimages/0217790_PE375075_S2.JPG'], ['KLIMPEN 클림펜', '₩\xa099,000 /개', 'https://www.ikea.com/PIAimages/0487971_PE622859_S2.JPG'], ['LINNMON 린몬 /  ALEX 알렉스', '₩\xa0132,800 /개', 'https://www.ikea.com/PIAimages/0721933_PE733416_S2.JPG'], ['LINNMON 린몬 /  ODDVALD 오드발드', '₩\xa085,900 /개', 'https://www.ikea.com/PIAimages/0209294_PE362852_S2.JPG'], ['LINNMON 린몬 /  GODVIN 고드빈', '₩\xa085,900 /개', 'https://www.ikea.com/PIAimages/0202615_PE358958_S2.JPG'], ['KVISSLE 크비슬레', '₩\xa019,900 /개', 'https://www.ikea.com/PIAimages/0710295_PE727446_S2.JPG'], ['LINNMON 린몬 /  ALEX 알렉스', '₩\xa0112,800 /개', 'https://www.ikea.com/PIAimages/0307566_PE427687_S2.JPG'], ['LINNMON 린몬', '₩\xa016,000 /개', 'https://www.ikea.com/PIAimages/0175275_PE328652_S2.JPG'], ['LINNMON 린몬', '₩\xa045,900 /개', 'https://www.ikea.com/PIAimages/30748_PE119399_S2.jpg'], ['STUVA 스투바 /  FRITIDS 프리티스', '₩\xa0610,000 /개', 'https://www.ikea.com/PIAimages/0590768_PE674022_S2.JPG'], ['LINNMON 린몬 /  ADILS 아딜스', '₩\xa039,900 /개', 'https://www.ikea.com/PIAimages/0504047_PE633037_S2.JPG'], ['LINNMON 린몬 /  KRILLE 크릴레', '₩\xa0105,900 /개', 'https://www.ikea.com/PIAimages/0209277_PE362837_S2.JPG'], ['RISSLA 리슬라', '₩\xa029,900 /개', 'https://www.ikea.com/PIAimages/0190994_PE344543_S2.JPG'], ['LINNMON 린몬 /  ADILS 아딜스', '₩\xa073,400 /개', 'https://www.ikea.com/PIAimages/0184582_PE336273_S2.JPG'], ['NYMÅNE 뉘모네', '₩\xa059,900 /개', 'https://www.ikea.com/PIAimages/0588466_PE673072_S2.JPG'], ['STUVA 스투바', '₩\xa0495,000 /개', 'https://www.ikea.com/PIAimages/0590783_PE674031_S2.JPG'], ['KOLON 콜론', '₩\xa024,900 /개', 'https://www.ikea.com/PIAimages/0292207_PE425129_S2.jpg'], ['GODVIN 고드빈', '₩\xa010,000 /개', 'https://www.ikea.com/PIAimages/0117162_PE272459_S2.JPG'], ['FINNVARD 핀바르드', '₩\xa050,000 /개', 'https://www.ikea.com/PIAimages/79324_PE202881_S2.JPG'], ['LINNMON 린몬 /  ADILS 아딜스', '₩\xa083,400 /개', 'https://www.ikea.com/PIAimages/0189128_PE343588_S2.JPG'], ['LINNMON 린몬', '₩\xa025,900 /개', 'https://www.ikea.com/PIAimages/0175279_PE328655_S2.JPG'], ['LINNMON 린몬 /  ALEX 알렉스', '₩\xa0132,800 /개', 'https://www.ikea.com/PIAimages/0504962_PE633626_S2.JPG'], ['LERBERG 레르베리', '₩\xa09,000 /개', 'https://www.ikea.com/PIAimages/0096000_PE235330_S2.JPG'], ['BEKANT 베칸트', '₩\xa0319,000 /개', 'https://www.ikea.com/PIAimages/0306788_PE427270_S2.JPG'], ['IDÅSEN 이도센', '₩\xa0680,000 /개', 'https://www.ikea.com/PIAimages/0612687_PE690527_S2.JPG'], ['BEKANT 베칸트', '₩\xa0698,000 /개', 'https://www.ikea.com/PIAimages/0659005_PE710465_S2.JPG'], ['GLASHOLM 글라스홀름 /  ALEX 알렉스', '₩\xa0238,800 /개', 'https://www.ikea.com/PIAimages/0501554_PE631779_S2.JPG'], ['BEKANT 베칸트', '₩\xa0399,000 /개', 'https://www.ikea.com/PIAimages/0306687_PE427206_S2.JPG'], ['SUMMERA 숨메라', '₩\xa07,900 /개', 'https://www.ikea.com/PIAimages/0135809_PE292680_S2.JPG'], ['BEKANT 베칸트', '₩\xa0618,000 /개', 'https://www.ikea.com/PIAimages/0658690_PE710355_S2.JPG'], ['BEKANT 베칸트', '₩\xa0916,000 /개', 'https://www.ikea.com/PIAimages/0470788_PE612935_S2.JPG'], ['BEKANT 베칸트', '₩\xa01,338,000 /개', 'https://www.ikea.com/PIAimages/0470903_PE612958_S2.JPG'], ['BEKANT 베칸트', '₩\xa0879,000 /개', 'https://www.ikea.com/PIAimages/0659883_PE710982_S2.JPG'], ['BEKANT 베칸트', '₩\xa0739,000 /개', 'https://www.ikea.com/PIAimages/0471044_PE613026_S2.JPG'], ['BEKANT 베칸트', '₩\xa0956,000 /개', 'https://www.ikea.com/PIAimages/0301306_PE426619_S2.JPG'], ['SVALNÄS 스발네스', '₩\xa0605,000 /개', 'https://www.ikea.com/PIAimages/0486316_PE622021_S2.JPG'], ['BEKANT 베칸트', '₩\xa01,316,000 /개', 'https://www.ikea.com/PIAimages/0659686_PE710893_S2.JPG'], ['BEKANT 베칸트', '₩\xa01,498,000 /개', 'https://www.ikea.com/PIAimages/0660328_PE711036_S2.JPG'], ['BEKANT 베칸트', '₩\xa01,236,000 /개', 'https://www.ikea.com/PIAimages/0659045_PE710483_S2.JPG'], ['LINNMON 린몬', '₩\xa055,900 /개', 'https://www.ikea.com/PIAimages/57135_PE162756_S2.jpg'], ['STUVA 스투바 /  FRITIDS 프리티스', '₩\xa0590,000 /개', 'https://www.ikea.com/PIAimages/0587888_PE672815_S2.JPG'], ['KRILLE 크릴레', '₩\xa020,000 /개', 'https://www.ikea.com/PIAimages/0175297_PE328664_S2.JPG'], ['LINNMON 린몬 /  ADILS 아딜스', '₩\xa059,900 /개', 'https://www.ikea.com/PIAimages/0199883_PE358536_S2.JPG'], ['STUVA 스투바 /  FÖLJA 푈리아', '₩\xa0590,000 /개', 'https://www.ikea.com/PIAimages/0609337_PE684463_S2.JPG'], ['LINNMON 린몬 /  GODVIN 고드빈', '₩\xa065,900 /개', 'https://www.ikea.com/PIAimages/0504091_PE633094_S2.JPG'], ['FIXA 픽사', '₩\xa07,900 /개', 'https://www.ikea.com/PIAimages/0711964_PE728594_S2.JPG'], ['SIGFINN 식핀', '₩\xa019,900 /개', 'https://www.ikea.com/PIAimages/0491333_PE625002_S2.JPG'], ['ODDVALD 오드발드', '₩\xa020,000 /개', 'https://www.ikea.com/PIAimages/75832_PE194732_S2.jpg'], ['LINNMON 린몬 /  OLOV 올로브', '₩\xa085,900 /개', 'https://www.ikea.com/PIAimages/0513608_PE639096_S2.JPG'], ['DAGOTTO 다고토', '₩\xa019,900 /개', 'https://www.ikea.com/PIAimages/0156454_PE315498_S2.JPG'], ['HILVER 힐베르', '₩\xa025,000 /개', 'https://www.ikea.com/PIAimages/0271487_PE429743_S2.JPG'], ['ALEX 알렉스', '₩\xa069,000 /개', 'https://www.ikea.com/PIAimages/0087724_PE217290_S2.JPG'], ['RISSLA 리슬라', '₩\xa014,900 /개', 'https://www.ikea.com/PIAimages/0711570_PE728332_S2.JPG'], ['LINNMON 린몬 /  LERBERG 레르베리', '₩\xa063,900 /개', 'https://www.ikea.com/PIAimages/0211941_PE365753_S2.JPG'], ['LINNMON 린몬 /  ADILS 아딜스', '₩\xa059,900 /개', 'https://www.ikea.com/PIAimages/0504874_PE633594_S2.JPG'], ['LINNMON 린몬 /  FINNVARD 핀바르드', '₩\xa0145,900 /개', 'https://www.ikea.com/PIAimages/0209293_PE362853_S2.JPG'], ['PLEJA 플레야', '₩\xa012,900 /개', 'https://www.ikea.com/PIAimages/0572859_PE667613_S2.JPG'], ['KLIMPEN 클림펜', '₩\xa090,000 /개', 'https://www.ikea.com/PIAimages/0487967_PE622860_S2.JPG'], ['LINNMON 린몬 /  ADILS 아딜스', '₩\xa049,900 /개', 'https://www.ikea.com/PIAimages/0504039_PE633027_S2.JPG'], ['LINNMON 린몬 /  LERBERG 레르베리', '₩\xa043,900 /개', 'https://www.ikea.com/PIAimages/0202623_PE358963_S2.JPG'], ['GERTON 예르톤', '₩\xa0377,900 /개', 'https://www.ikea.com/PIAimages/0522887_PE643479_S2.JPG'], ['RÅSKOG 로스코그', '₩\xa029,900 /개', 'https://www.ikea.com/PIAimages/0664042_PE712604_S2.JPG'], ['SIGNUM 싱눔', '₩\xa09,900 /개', 'https://www.ikea.com/PIAimages/0117163_PE272460_S2.JPG'], ['LINNMON 린몬 /  GODVIN 고드빈', '₩\xa075,900 /개', 'https://www.ikea.com/PIAimages/0504087_PE633085_S2.JPG'], ['LINNMON 린몬 /  KRILLE 크릴레', '₩\xa0125,900 /개', 'https://www.ikea.com/PIAimages/0209281_PE362843_S2.JPG'], ['NYMÅNE 뉘모네', '₩\xa059,900 /개', 'https://www.ikea.com/PIAimages/0611165_PE685371_S2.JPG'], ['GERTON 예르톤', '₩\xa035,000 /개', 'https://www.ikea.com/PIAimages/0240376_PE380052_S2.JPG'], ['LINNMON 린몬', '₩\xa065,900 /개', 'https://www.ikea.com/PIAimages/0108407_PE258159_S2.JPG'], ['HILVER 힐베르', '₩\xa099,000 /개', 'https://www.ikea.com/PIAimages/0283524_PE420996_S2.jpg'], ['LINNMON 린몬 /  ADILS 아딜스', '₩\xa059,900 /개', 'https://www.ikea.com/PIAimages/0504880_PE633595_S2.JPG'], ['ALVARET 알바레트', '₩\xa020,000 /개', 'https://www.ikea.com/PIAimages/0487729_PE623714_S2.JPG'], ['STUVA 스투바 /  FÖLJA 푈리아', '₩\xa0556,000 /개', 'https://www.ikea.com/PIAimages/0609334_PE684460_S2.JPG'], ['YPPERLIG 위펠리그', '₩\xa011,900 /개', 'https://www.ikea.com/PIAimages/0711891_PE728535_S2.JPG'], ['LINNMON 린몬 /  ALEX 알렉스', '₩\xa0135,800 /개', 'https://www.ikea.com/PIAimages/0522888_PE643481_S2.JPG'], ['SUMMERA 숨메라', '₩\xa07,900 /개', 'https://www.ikea.com/PIAimages/0135809_PE292680_S2.JPG'], ['KLIMPEN 클림펜', '₩\xa0110,000 /개', 'https://www.ikea.com/PIAimages/0487965_PE622858_S2.JPG'], ['LINNMON 린몬 /  KRILLE 크릴레', '₩\xa0115,900 /개', 'https://www.ikea.com/PIAimages/0504092_PE633090_S2.JPG'], ['ÅMLIDEN 옴리덴', '₩\xa099,000 /개', 'https://www.ikea.com/PIAimages/0525001_PE644707_S2.JPG'], ['LINNMON 린몬 /  ADILS 아딜스', '₩\xa049,900 /개', 'https://www.ikea.com/PIAimages/0504046_PE633034_S2.JPG'], ['LINNMON 린몬 /  KRILLE 크릴레', '₩\xa0125,900 /개', 'https://www.ikea.com/PIAimages/0504944_PE633613_S2.JPG'], ['LINNMON 린몬', '₩\xa063,900 /개', 'https://www.ikea.com/PIAimages/0504950_PE633617_S2.JPG'], ['LINNMON 린몬 /  ALEX 알렉스', '₩\xa0101,900 /개', 'https://www.ikea.com/PIAimages/0199904_PE358586_S2.JPG'], ['SKÅDIS 스코디스', '₩\xa06,000 /2\xa0개', 'https://www.ikea.com/PIAimages/0710839_PE727773_S2.JPG'], ['RISSLA 리슬라', '₩\xa019,900 /개', 'https://www.ikea.com/PIAimages/0190987_PE344538_S2.JPG'], ['STORÅ 스토로', '₩\xa0399,000 /개', 'https://www.ikea.com/PIAimages/0655010_PE708897_S2.JPG'], ['LINNMON 린몬 /  KRILLE 크릴레', '₩\xa0105,900 /개', 'https://www.ikea.com/PIAimages/0504096_PE633089_S2.JPG'], ['KLIMPEN 클림펜', '₩\xa0299,000 /개', 'https://www.ikea.com/PIAimages/0504023_PE633012_S2.JPG'], ['LINNMON 린몬', '₩\xa06,000 /2\xa0개', 'https://www.ikea.com/PIAimages/0240369_PE380055_S2.JPG'], ['LINNMON 린몬 /  ALEX 알렉스', '₩\xa0205,700 /개', 'https://www.ikea.com/PIAimages/0721953_PE733428_S2.JPG'], ['LINNMON 린몬 /  OLOV 올로브', '₩\xa0105,900 /개', 'https://www.ikea.com/PIAimages/0504110_PE633100_S2.JPG'], ['UPPLEVA 우플레바', '₩\xa029,900 /개', 'https://www.ikea.com/PIAimages/0626708_PE692954_S2.JPG'], ['SKÅDIS 스코디스', '₩\xa06,000 /2\xa0개', 'https://www.ikea.com/PIAimages/0710836_PE727770_S2.JPG'], ['LINNMON 린몬', '₩\xa063,900 /개', 'https://www.ikea.com/PIAimages/0504952_PE633621_S2.JPG'], ['SKÅDIS 스코디스', '₩\xa059,900 /개', 'https://www.ikea.com/PIAimages/0524084_PE644139_S2.JPG'], ['LINNMON 린몬 /  ALEX 알렉스', '₩\xa0111,900 /개', 'https://www.ikea.com/PIAimages/0504124_PE633117_S2.JPG'], ['TORSKLINT 토르스클린트', '₩\xa030,000 /개', 'https://www.ikea.com/PIAimages/0525002_PE644706_S2.JPG'], ['LANKMOJ 랑크모이', '₩\xa09,900 /개', 'https://www.ikea.com/PIAimages/0711328_PE728154_S2.JPG'], ['LALLE 랄레', '₩\xa025,000 /개', 'https://www.ikea.com/PIAimages/0176245_PE329140_S2.JPG'], ['KNATTING 크나팅', '₩\xa014,900 /개', 'https://www.ikea.com/PIAimages/0418612_PE575666_S2.JPG'], ['LINNMON 린몬 /  KRILLE 크릴레', '₩\xa072,900 /개', 'https://www.ikea.com/PIAimages/0189123_PE343585_S2.JPG'], ['KLIMPEN 클림펜', '₩\xa0319,000 /개', 'https://www.ikea.com/PIAimages/0504031_PE633020_S2.JPG'], ['GERTON 예르톤 /  FINNVARD 핀바르드', '₩\xa0229,000 /개', 'https://www.ikea.com/PIAimages/0291743_PE425050_S2.JPG'], ['HILVER 힐베르 /  GODVIN 고드빈', '₩\xa0139,000 /개', 'https://www.ikea.com/PIAimages/0307339_PE427545_S2.jpg'], ['GERTON 예르톤', '₩\xa0269,000 /개', 'https://www.ikea.com/PIAimages/0291741_PE425048_S2.JPG'], ['ÅMLIDEN 옴리덴 /  OLOV 올로브', '₩\xa0159,000 /개', 'https://www.ikea.com/PIAimages/0531284_PE647238_S2.JPG'], ['GERTON 예르톤 /  TORSKLINT 토르스클린트', '₩\xa0249,000 /개', 'https://www.ikea.com/PIAimages/0531281_PE647235_S2.JPG'], ['LINNMON 린몬 /  ALEX 알렉스', '₩\xa0122,800 /개', 'https://www.ikea.com/PIAimages/0504119_PE633112_S2.JPG'], ['GERTON 예르톤 /  ODDVALD 오드발드', '₩\xa0169,000 /개', 'https://www.ikea.com/PIAimages/0101976_PE246194_S2.JPG'], ['GLASHOLM 글라스홀름 /  ODDVALD 오드발드', '₩\xa0119,000 /개', 'https://www.ikea.com/PIAimages/0504014_PE633001_S2.JPG'], ['LINNMON 린몬 /  HILVER 힐베르', '₩\xa0195,900 /개', 'https://www.ikea.com/PIAimages/0522889_PE643480_S2.JPG'], ['LINNMON 린몬 /  GODVIN 고드빈', '₩\xa085,900 /개', 'https://www.ikea.com/PIAimages/0504940_PE633611_S2.JPG'], ['LINNMON 린몬 /  GODVIN 고드빈', '₩\xa085,900 /개', 'https://www.ikea.com/PIAimages/0504942_PE633615_S2.JPG'], ['LINNMON 린몬 /  ALEX 알렉스', '₩\xa0122,800 /개', 'https://www.ikea.com/PIAimages/0504121_PE633116_S2.JPG'], ['LINNMON 린몬 /  ALEX 알렉스', '₩\xa0134,900 /개', 'https://www.ikea.com/PIAimages/0504963_PE633625_S2.JPG'], ['LINNMON 린몬 /  LALLE 랄레', '₩\xa0145,900 /개', 'https://www.ikea.com/PIAimages/0184570_PE336261_S2.JPG'], ['LINNMON 린몬 /  ALVARET 알바레트', '₩\xa0125,900 /개', 'https://www.ikea.com/PIAimages/0519864_PE641825_S2.JPG'], ['LINNMON 린몬 /  OLOV 올로브', '₩\xa095,900 /개', 'https://www.ikea.com/PIAimages/0504100_PE633095_S2.JPG'], ['KLIMPEN 클림펜 /  LALLE 랄레', '₩\xa0199,000 /개', 'https://www.ikea.com/PIAimages/0504027_PE633013_S2.JPG'], ['GLASHOLM 글라스홀름', '₩\xa079,000 /개', 'https://www.ikea.com/PIAimages/0487731_PE623713_S2.JPG'], ['KLIMPEN 클림펜', '₩\xa089,000 /개', 'https://www.ikea.com/PIAimages/0487969_PE622861_S2.JPG'], ['HILVER 힐베르 /  LERBERG 레르베리', '₩\xa0117,000 /개', 'https://www.ikea.com/PIAimages/0307219_PE427501_S2.jpg'], ['LINNMON 린몬 /  OLOV 올로브', '₩\xa095,900 /개', 'https://www.ikea.com/PIAimages/0504105_PE633105_S2.JPG'], ['GLASHOLM 글라스홀름 /  ALEX 알렉스', '₩\xa0238,800 /개', 'https://www.ikea.com/PIAimages/0501554_PE631779_S2.JPG'], ['LINNMON 린몬 /  TORSKLINT 토르스클린트', '₩\xa0136,000 /개', 'https://www.ikea.com/PIAimages/0531296_PE647245_S2.JPG'], ['KLIMPEN 클림펜', '₩\xa040,000 /개', 'https://www.ikea.com/PIAimages/0487963_PE622857_S2.JPG'], ['KLIMPEN 클림펜', '₩\xa0508,000 /개', 'https://www.ikea.com/PIAimages/0504033_PE633018_S2.JPG'], ['GLASHOLM 글라스홀름 /  ALEX 알렉스', '₩\xa0227,900 /개', 'https://www.ikea.com/PIAimages/0501557_PE631781_S2.JPG'], ['MONTERA 몬테라', '₩\xa07,900 /6\xa0개', 'https://www.ikea.com/PIAimages/0088067_PE218108_S2.JPG'], ['PLATSA 플랏사', '₩\xa0763,500 /개', 'https://www.ikea.com/PIAimages/0587584_PE673656_S2.JPG'], ['LINNMON 린몬', '₩\xa053,900 /개', 'https://www.ikea.com/PIAimages/0504115_PE633111_S2.JPG'], ['LINNMON 린몬 /  ALVARET 알바레트', '₩\xa096,000 /개', 'https://www.ikea.com/PIAimages/0519847_PE641805_S2.JPG'], ['KLIMPEN 클림펜 /  LALLE 랄레', '₩\xa0189,000 /개', 'https://www.ikea.com/PIAimages/0504026_PE633014_S2.JPG'], ['KLIMPEN 클림펜', '₩\xa0488,000 /개', 'https://www.ikea.com/PIAimages/0504032_PE633019_S2.JPG'], ['LINNMON 린몬 /  ALEX 알렉스', '₩\xa0111,900 /개', 'https://www.ikea.com/PIAimages/0504125_PE633119_S2.JPG'], ['LINNMON 린몬 /  GODVIN 고드빈', '₩\xa0114,900 /개', 'https://www.ikea.com/PIAimages/0504127_PE633120_S2.JPG'], ['ÅMLIDEN 옴리덴 /  ALVARET 알바레트', '₩\xa0179,000 /개', 'https://www.ikea.com/PIAimages/0531282_PE647236_S2.JPG'], ['LINNMON 린몬 /  TORSKLINT 토르스클린트', '₩\xa0165,900 /개', 'https://www.ikea.com/PIAimages/0531298_PE647246_S2.JPG'], ['GERTON 예르톤', '₩\xa0209,000 /개', 'https://www.ikea.com/PIAimages/0519843_PE641804_S2.JPG'], ['LINNMON 린몬 /  GODVIN 고드빈', '₩\xa0124,900 /개', 'https://www.ikea.com/PIAimages/0504128_PE633122_S2.JPG'], ['KLIMPEN 클림펜', '₩\xa0289,000 /개', 'https://www.ikea.com/PIAimages/0504022_PE633009_S2.JPG'], ['LINNMON 린몬 /  ALVARET 알바레트', '₩\xa0115,900 /개', 'https://www.ikea.com/PIAimages/0520887_PE642486_S2.JPG'], ['LINNMON 린몬 /  GODVIN 고드빈', '₩\xa0124,900 /개', 'https://www.ikea.com/PIAimages/0504129_PE633121_S2.JPG'], ['LINNMON 린몬 /  LALLE 랄레', '₩\xa0125,900 /개', 'https://www.ikea.com/PIAimages/0184568_PE336259_S2.JPG'], ['LINNMON 린몬 /  KRILLE 크릴레', '₩\xa0115,900 /개', 'https://www.ikea.com/PIAimages/0504094_PE633092_S2.JPG'], ['KLIMPEN 클림펜', '₩\xa0309,000 /개', 'https://www.ikea.com/PIAimages/0504030_PE633017_S2.JPG'], ['LINNMON 린몬 /  GODVIN 고드빈', '₩\xa075,900 /개', 'https://www.ikea.com/PIAimages/0504089_PE633087_S2.JPG'], ['KLIMPEN 클림펜', '₩\xa0339,000 /개', 'https://www.ikea.com/PIAimages/0504025_PE633010_S2.JPG'], ['LINNMON 린몬 /  ALEX 알렉스', '₩\xa0134,900 /개', 'https://www.ikea.com/PIAimages/0504964_PE633624_S2.JPG'], ['STUVA 스투바 /  FÖLJA 푈리아', '₩\xa0239,000 /개', 'https://www.ikea.com/PIAimages/0485045_PE621411_S2.JPG'], ['LINNMON 린몬 /  TORSKLINT 토르스클린트', '₩\xa0145,900 /개', 'https://www.ikea.com/PIAimages/0531297_PE647247_S2.JPG'], ['ÅMLIDEN 옴리덴 /  KRILLE 크릴레', '₩\xa0179,000 /개', 'https://www.ikea.com/PIAimages/0531283_PE647240_S2.JPG'], ['LINNMON 린몬 /  ALVARET 알바레트', '₩\xa0105,900 /개', 'https://www.ikea.com/PIAimages/0519857_PE641824_S2.JPG']]
```

데이터가 잘 저장되었습니다.

## DataFrame 만들기

이제 DataFrame 형태로 만들어주면 됩니다. pandas의 문법은 익숙하죠?

```python
import pandas as pd

# DataFrame 만들기
df = pd.DataFrame(data = records, columns = ["이름", "가격", "이미지 주소"])

# DataFrame 출력
df.head()
```

![img](https://i.imgur.com/clYTU9j.png)

완성된 전체 코드는 다음과 같습니다.

```python
import pandas as pd
import requests
from bs4 import BeautifulSoup

# 빈 리스트 생성
records = []

# 시작 페이지 지정
page_num = 1

while True:
    # HTML 코드 받아오기
    response = requests.get("https://www.ikea.com/kr/ko/search/?query=desk&pageNumber=" + str(page_num))

    # BeautifulSoup 타입으로 변형하기
    soup = BeautifulSoup(response.text, 'html.parser')

    # "prodName" 클래스가 있을 때만 상품 정보 가져오기
    if len(soup.select('.prodName')) > 0:
        product_names = soup.select('.prodName')
        product_prices = soup.select('.prodPrice')
        product_urls = soup.select('.prodImg')
        page_num += 1
        
        # 상품의 정보를 하나의 레코드로 만들고, 리스트에 순서대로 추가하기
        index = 0
        for name in product_names:
            record = []
            record.append(product_names[index].text)
            record.append(product_prices[index].text.strip())
            record.append("https://www.ikea.com" + product_urls[index].get('src'))
            records.append(record)
            index += 1
    else:
        break

# DataFrame 만들기
df = pd.DataFrame(data = records, columns = ["이름", "가격", "이미지 주소"])

# DataFrame 출력
df.head()
```





### (14) 실습 : TV 시청률 크롤링 최종 프로젝트

[티비랭킹닷컴](https://workey.codeit.kr/ratings/index)의 데이터를 DataFrame으로 만들어서 분석해보려 합니다.주어진 결과 예시와 같은 DataFrame을 만들어 보세요.`# 결과 출력 df.head() `![img](https://i.imgur.com/TkVragZ.png)

> 정답 Code

```python
import pandas as pd
import requests
from bs4 import BeautifulSoup

# 기간 지정
years = list(range(2010, 2019))
months = list(range(1, 13))
weeks = list(range(0, 5))

# 페이지를 담는 빈 리스트 생성
rating_pages = []

for year in years:
    for month in months:
        for week in weeks:
            # HTML 코드 받아오기
            response = requests.get("https://workey.codeit.kr/ratings/index?year=" + str(year) + "&month=" + str(month) + "&weekIndex=" + str(week))

            # BeautifulSoup 타입으로 변환하기
            soup = BeautifulSoup(response.text, 'html.parser')

            # "row" 클래스가 1개를 넘는 경우만 페이지를 리스트에 추가
            if len(soup.select('.row')) > 1:
                rating_pages.append(soup)

# 레코드를 담는 빈 리스트 만들기
records = []

# 각 페이지 파싱해서 정보 얻기
for page in rating_pages:
    date = page.select('option[selected=selected]')[2].text
    ranks = page.select('.row .rank')[1:]
    channels = page.select('.row .channel')[1:]
    programs = page.select('.row .program')[1:]
    percents = page.select('.row .percent')[1:]

    # 페이지에 있는 10개의 레코드를 리스트에 추가
    for i in range(10):
        record = []
        record.append(date)
        record.append(ranks[i].text)
        record.append(channels[i].text)
        record.append(programs[i].text)
        record.append(percents[i].text)
        records.append(record)

# DataFrame 만들기
df = pd.DataFrame(data=records, columns=['period', 'rank', 'channel', 'program', 'rating'])

# 결과 출력
df.head()
```



> 해설

## HTML 코드 가져오기

이전 과제 [TV 시청률 크롤링 pt. 3](https://www.codeit.kr/assignments/1527)에서 페이지를 다음과 같이 가져왔었죠?

```python
import requests
from bs4 import BeautifulSoup

# 기간 지정
years = list(range(2010, 2019))
months = list(range(1, 13))
weeks = list(range(0, 5))

# 페이지를 담는 빈 리스트 생성
rating_pages = []

for year in years:
    for month in months:
        for week in weeks:
            # HTML 코드 받아오기
            response = requests.get("https://workey.codeit.kr/ratings/index?year=" + str(year) + "&month=" + str(month) + "&weekIndex=" + str(week))

            # BeautifulSoup 타입으로 변환하기
            soup = BeautifulSoup(response.text, 'html.parser')

            # "row" 클래스가 1개를 넘는 경우만 페이지를 리스트에 추가
            if len(soup.select('.row')) > 1:
                rating_pages.append(soup)
```

페이지가 담긴 `rating_pages`에서 우리가 필요한 정보를 하나씩 꺼내면 됩니다.

## DataFrame 설계하기

다음과 같은 DataFrame을 만들기 위해서는 어떻게 레코드(row)를 기록하면 될까요?

![img](https://i.imgur.com/TkVragZ.png)

하나의 레코드는 다음과 같은 형태입니다.

```python
["기간 1", "랭킹 1", "채널 1", "프로그램 1", "시청률 1"]
```

하나의 페이지에는 1위부터 10위까지 데이터가 있으니, 페이지마다 10개의 레코드가 생기겠네요.
페이지마다 생기는 10개 레코드를 하나의 리스트에 계속해서 추가하면 됩니다.

그러면 아래와 같이 리스트를 담은 리스트가 만들어지고, 이걸 DataFrame으로 변형시킬 수 있습니다.

```python
[["기간 1", "랭킹 1", "채널 1", "프로그램 1", "시청률 1"],
["기간 2", "랭킹 2", "채널 2", "프로그램 2", "시청률 2"],
["기간 3", "랭킹 3", "채널 3", "프로그램 3", "시청률 3"]]
```

## 파싱하기

웹 페이지의 HTML을 살펴보면 기간, 순위, 채널, 제목, 시청률 정보를 다음과 같이 얻을 수 있습니다.

"2010.01.11 ~ 2010.01.17", "2010.01.18 ~ 2010.01.24", "2010.01.25 ~ 2010.01.31" 등의 여러 기간 중에서 현재 정보를 나타내는 HTML 태그는 `"selected"` 속성의 값이 `"selected"`로 되어 있습니다. 이 정보를 활용해서 기간을 추출할 수 있습니다.

```python
# 레코드를 담는 빈 리스트 생성
records = []

# 각 페이지 파싱해서 정보 얻기
for page in rating_pages:
    date = page.select('option[selected=selected]')[2].text
    ranks = page.select('.row .rank')[1:]
    channels = page.select('.row .channel')[1:]
    programs = page.select('.row .program')[1:]
    percents = page.select('.row .percent')[1:]

    # 페이지마다 레코드 10개를 리스트에 담는 코드 추가
```

각 레코드를 리스트에 순서대로 추가합니다.

```python
# 레코드를 담는 빈 리스트 생성
records = []

# 각 페이지 파싱해서 정보 얻기
for page in rating_pages:
    date = page.select('option[selected=selected]')[2].text
    ranks = page.select('.row .rank')[1:]
    channels = page.select('.row .channel')[1:]
    programs = page.select('.row .program')[1:]
    percents = page.select('.row .percent')[1:]

    # 페이지에 있는 10개의 레코드를 리스트에 추가
    for i in range(10):
        record = []
        record.append(date)
        record.append(ranks[i].text)
        record.append(channels[i].text)
        record.append(programs[i].text)
        record.append(percents[i].text)
        records.append(record)
```

## DataFrame 만들기

이 데이터를 DataFrame으로 만들어주면 됩니다.

```python
# DataFrame 만들기
df = pd.DataFrame(data=records, columns=['period', 'rank', 'channel', 'program', 'rating'])

# 결과 출력
df.head()
```

![img](https://i.imgur.com/TkVragZ.png)

완성된 코드는 다음과 같습니다.

```python
import pandas as pd
import requests
from bs4 import BeautifulSoup

# 기간 지정
years = list(range(2010, 2019))
months = list(range(1, 13))
weeks = list(range(0, 5))

# 페이지를 담는 빈 리스트 생성
rating_pages = []

for year in years:
    for month in months:
        for week in weeks:
            # HTML 코드 받아오기
            response = requests.get("https://workey.codeit.kr/ratings/index?year=" + str(year) + "&month=" + str(month) + "&weekIndex=" + str(week))

            # BeautifulSoup 타입으로 변환하기
            soup = BeautifulSoup(response.text, 'html.parser')

            # "row" 클래스가 1개를 넘는 경우만 페이지를 리스트에 추가
            if len(soup.select('.row')) > 1:
                rating_pages.append(soup)

# 레코드를 담는 빈 리스트 만들기
records = []

# 각 페이지 파싱해서 정보 얻기
for page in rating_pages:
    date = page.select('option[selected=selected]')[2].text
    ranks = page.select('.row .rank')[1:]
    channels = page.select('.row .channel')[1:]
    programs = page.select('.row .program')[1:]
    percents = page.select('.row .percent')[1:]

    # 페이지에 있는 10개의 레코드를 리스트에 추가
    for i in range(10):
        record = []
        record.append(date)
        record.append(ranks[i].text)
        record.append(channels[i].text)
        record.append(programs[i].text)
        record.append(percents[i].text)
        records.append(record)

# DataFrame 만들기
df = pd.DataFrame(data=records, columns=['period', 'rank', 'channel', 'program', 'rating'])

# 결과 출력
df.head()
```

